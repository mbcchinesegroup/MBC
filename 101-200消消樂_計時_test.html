<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>101-200åå¥é…å°æ¶ˆæ¶ˆæ¨‚éŠæˆ²</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", Arial, sans-serif;
      background: linear-gradient(135deg, #f4f8fb 0%, #e0eaf8 100%);
      margin: 0; padding: 0;
      display: flex; flex-direction: column; align-items: center;
      min-height: 100vh;
    }
    h1 { 
      margin: 20px 0 6px; 
      color: #1976d2;
      text-align: center;
      font-size: 1.8rem;
    }
    .container {
      width: 95%;
      max-width: 1200px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .topbar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 8px 12px;
      margin: 6px 12px 10px;
      font-size: 14px;
      width: 100%;
    }
    .stat {
      background: #fff;
      border-radius: 8px;
      padding: 6px 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      min-width: 90px;
      text-align: center;
      border-left: 4px solid #1976d2;
      font-size: 14px;
    }
    #status { 
      margin: 6px 0 10px; 
      font-size: 16px; 
      font-weight: bold;
      color: #333;
      text-align: center;
      padding: 8px 16px;
      background: rgba(255,255,255,0.7);
      border-radius: 20px;
    }
    .game-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #game-board {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      max-width: 1000px;
      width: 100%;
      margin: 10px auto 20px;
    }
    .card {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: #fff;
      border-radius: 8px;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      user-select: none;
      padding: 8px;
      text-align: center;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
    }
    .card:active { transform: scale(0.98); }
    .card.flipped {
      background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
      color: #222;
      cursor: default;
    }
    .card.matched {
      background: linear-gradient(135deg, #a5d6a7 0%, #66bb6a 100%);
      color: #2e7d32;
      cursor: default;
      box-shadow: 0 0 15px rgba(76, 175, 80, 0.4);
    }
    .card.mismatched {
      background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
      color: #c62828;
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      backface-visibility: hidden;
      transition: transform 0.6s;
      border-radius: 8px;
      padding: 8px;
      box-sizing: border-box;
    }
    .card-front {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: white;
      font-weight: bold;
    }
    .card-back {
      background: white;
      color: #222;
      transform: rotateY(180deg);
      justify-content: center;
      font-size: 13px;
      overflow: auto;
    }
    .card.flipped .card-front {
      transform: rotateY(180deg);
    }
    .card.flipped .card-back {
      transform: rotateY(0deg);
    }
    button {
      margin: 6px 0 4px;
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      background: #1976d2;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
    }
    button:hover {
      background: #1565c0;
      transform: translateY(-2px);
    }
    button:active { transform: translateY(1px); }
    .controls {
      display: flex; 
      gap: 8px; 
      flex-wrap: wrap; 
      justify-content: center;
      margin-bottom: 6px;
      width: 100%;
    }
    .settings {
      display: flex;
      gap: 8px;
      margin: 10px 0;
      flex-wrap: wrap;
      justify-content: center;
    }
    .setting-item {
      display: flex;
      align-items: center;
      gap: 5px;
      background: white;
      padding: 6px 10px;
      border-radius: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      font-size: 14px;
    }
    .note { 
      font-size: 12px; 
      color: #555; 
      margin-top: 4px; 
      text-align: center;
      max-width: 600px;
      padding: 0 10px;
    }
    .completed-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.95);
      padding: 20px 25px;
      border-radius: 12px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
      text-align: center;
      z-index: 100;
      animation: popIn 0.5s ease;
      width: 80%;
      max-width: 300px;
    }
    
    /* ç­”æ¡ˆæ¬„æ¨£å¼ */
    #answer-board {
      width: 100%;
      max-width: 1000px;
      margin: 15px 0;
      padding: 12px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    #answer-board h2 {
      text-align: center;
      color: #1976d2;
      margin-top: 0;
      padding-bottom: 8px;
      border-bottom: 2px solid #1976d2;
      font-size: 1.3rem;
    }
    .answer-pair {
      display: flex;
      margin-bottom: 12px;
      border-bottom: 1px dashed #ccc;
      padding-bottom: 12px;
      align-items: center;
      min-height: 70px;
    }
    .answer-pair:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    .pair-number {
      width: 25px;
      height: 25px;
      background: #1976d2;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 8px;
      flex-shrink: 0;
      opacity: 0;
      transition: opacity 0.5s ease;
      font-size: 12px;
    }
    .pair-number.visible {
      opacity: 1;
    }
    .answer-text, .answer-source {
      flex: 1;
      padding: 8px;
      background: #f9f9f9;
      border-radius: 6px;
      margin: 0 4px;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
      position: relative;
      font-size: 13px;
    }
    .answer-text {
      border-left: 4px solid #4caf50;
    }
    .answer-source {
      border-left: 4px solid #2196f3;
    }
    .answer-type {
      position: absolute;
      top: 3px;
      left: 8px;
      font-size: 10px;
      color: #888;
    }
    .answer-placeholder {
      color: #999;
      font-style: italic;
      font-size: 12px;
    }
    
    @keyframes popIn {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 99;
    }
    
    /* æ‰‹æ©Ÿç‰ˆå°ˆç”¨æ¨£å¼ */
    .mobile-controls {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      padding: 10px;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 10;
      justify-content: space-around;
    }
    
    .mobile-btn {
      padding: 12px 16px;
      font-size: 14px;
      border: none;
      background: #1976d2;
      color: #fff;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 1000px) {
      #game-board { grid-template-columns: repeat(4, 1fr); }
    }
    @media (max-width: 800px) {
      #game-board { grid-template-columns: repeat(3, 1fr); }
      .card { height: 90px; font-size: 13px; }
      .answer-pair { flex-direction: column; }
      .answer-text, .answer-source { margin: 5px 0; width: 100%; }
      .pair-number { margin: 0 0 5px 0; }
    }
    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; margin: 15px 0 5px; }
      .topbar { gap: 6px 8px; }
      .stat { 
        min-width: 70px; 
        font-size: 12px; 
        padding: 5px 8px;
      }
      #status { font-size: 14px; padding: 6px 12px; }
      #game-board { 
        grid-template-columns: repeat(2, 1fr); 
        gap: 8px;
      }
      .card { 
        height: 80px; 
        font-size: 12px; 
        border-radius: 6px;
      }
      .card-back { font-size: 11px; }
      .controls { gap: 6px; }
      button { 
        padding: 8px 12px; 
        font-size: 13px;
      }
      .setting-item { font-size: 12px; }
      .note { font-size: 11px; }
      
      /* é¡¯ç¤ºæ‰‹æ©Ÿåº•éƒ¨æ§åˆ¶æ¬„ */
      .mobile-controls {
        display: flex;
      }
      
      /* éš±è—æ¡Œé¢ç‰ˆæ§åˆ¶æŒ‰éˆ• */
      .controls {
        display: none;
      }
      
      /* èª¿æ•´ç­”æ¡ˆæ¬„æ¨£å¼ */
      #answer-board {
        margin-bottom: 70px; /* ç‚ºåº•éƒ¨æ§åˆ¶æ¬„ç•™å‡ºç©ºé–“ */
        padding: 10px;
      }
      #answer-board h2 { font-size: 1.2rem; }
      .answer-text, .answer-source { 
        font-size: 12px; 
        padding: 6px;
      }
    }
    @media (max-width: 400px) {
      #game-board { grid-template-columns: repeat(2, 1fr); }
      .card { 
        height: 70px; 
        font-size: 11px; 
        padding: 5px;
      }
      .card-back { font-size: 10px; }
      .stat { min-width: 60px; font-size: 11px; }
      h1 { font-size: 1.3rem; }
      .mobile-btn { padding: 10px 12px; font-size: 12px; }
    }
    @media (max-width: 350px) {
      .card { height: 65px; }
      #game-board { gap: 6px; }
    }

    .btn { 
      margin: 6px 0 4px;
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      background: #1976d2;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
    }
    
    /* é˜²æ­¢æ‰‹æ©Ÿä¸Šæ–‡å­—é¸ä¸­ */
    .no-select {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
  </style>
</head>
<body class="no-select">
  <div class="container">
    <div style="text-align: center; margin: 15px 0; width: 100%;">
 </div>
<h1>ä¸­æ–‡çµ„</h1>
    <h1>101-200åå¥é…å°æ¶ˆæ¶ˆæ¨‚</h1>
    <div class="topbar">
      <div class="stat">è¨ˆæ™‚ï¼š<span id="timer">00:00.0</span></div>
      <div class="stat">é…å°ï¼š<span id="pairs">0</span>/<span id="total-pairs">0</span></div>
      <div class="stat">æœ€ä½³ï¼š<span id="best">â€”</span></div>
    </div>

    <div id="status">è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°</div>

    <div class="settings">
      <div class="setting-item">
        <label for="pair-count">éŠæˆ²é›£åº¦:</label>
        <select id="pair-count">
          <option value="5">ç°¡å–® (5çµ„)</option>
          <option value="8">ä¸­ç­‰ (8çµ„)</option>
          <option value="10">å›°é›£ (10çµ„)</option>
        </select>
      </div>
    </div>

    <div class="controls">
      <button id="btn-home" class="btn">ä¸»é </button>
      <button id="btn-new" class="btn">é‡æ–°é–‹å§‹</button>
      <button id="btn-pause" class="btn">æš«åœ</button>
      <button id="btn-resume" class="btn" style="display:none;">ç¹¼çºŒ</button>
    </div>
    <div class="note">æç¤ºï¼šç¿»ç‰Œé–‹å§‹å³è¨ˆæ™‚ï¼Œå…¨éƒ¨é…å°å®Œæˆè‡ªå‹•åœæ­¢ã€‚é…å°æˆåŠŸæ™‚å¡ç‰‡æœƒç§»å‹•åˆ°ä¸‹æ–¹ç­”æ¡ˆæ¬„ã€‚</div>

    <div class="game-container">
      <div id="game-board"></div>
    </div>
    
    <!-- ç­”æ¡ˆæ¬„ -->
    <div id="answer-board">
      <h2>ç­”æ¡ˆæ¬„</h2>
      <div id="answer-container"></div>
    </div>
  </div>
  
  <!-- æ‰‹æ©Ÿç‰ˆåº•éƒ¨æ§åˆ¶æ¬„ -->
  <div class="mobile-controls">
    <button id="mobile-home" class="mobile-btn">ä¸»é </button>
    <button id="mobile-new" class="mobile-btn">é‡æ–°é–‹å§‹</button>
    <button id="mobile-pause" class="mobile-btn">æš«åœ</button>
    <button id="mobile-resume" class="mobile-btn" style="display:none;">ç¹¼çºŒ</button>
  </div>


  <script>
    // å®Œæ•´çš„åå¥åˆ—è¡¨ï¼ˆå¸¶æœ‰åºè™Ÿï¼‰
    const quotes = [
{"id": 101, "text": "å¾—é“è€…å¤šåŠ©ï¼Œå¤±é“è€…å¯¡åŠ©ã€‚", "source": "ã€Šå­Ÿå­ãƒ»å…¬å­«ä¸‘ä¸‹ã€‹"},
{ "id": 102, "text": "ç•¶ä»Šä¹‹ä¸–ï¼Œæ¨æˆ‘å…¶èª°ä¹Ÿã€‚", "source": "ã€Šå­Ÿå­ãƒ»å…¬å­«ä¸‘ä¸‹ã€‹" },
{ "id": 103, "text": "ç”Ÿæ–¼æ†‚æ‚£ï¼Œè€Œæ­»æ–¼å®‰æ¨‚ä¹Ÿã€‚", "source": "ã€Šå­Ÿå­ãƒ»å‘Šå­ä¸‹ã€‹" },
{ "id": 104, "text": "å¯Œè²´ä¸èƒ½æ·«ï¼Œè²§è³¤ä¸èƒ½ç§»ï¼Œå¨æ­¦ä¸èƒ½å±ˆã€‚", "source": "ã€Šå­Ÿå­ãƒ»æ»•æ–‡å…¬ä¸‹ã€‹" },
{ "id": 105, "text": "äººæœ‰ä¸ç‚ºä¹Ÿï¼Œè€Œå¾Œå¯ä»¥æœ‰ç‚ºã€‚", "source": "ã€Šå­Ÿå­ãƒ»é›¢å©ä¸‹ã€‹" },
{ "id": 106, "text": "å›å­æ›°ï¼šã€Œå­¸ä¸å¯ä»¥å·²ã€‚ã€é’ï¼Œå–ä¹‹æ–¼è—ï¼Œè€Œé’æ–¼è—ï¼›å†°ï¼Œæ°´ç‚ºä¹‹ï¼Œè€Œå¯’æ–¼æ°´ã€‚", "source": "ã€Šè€å­ãƒ»å‹¸å­¸ã€‹" },
{ "id": 107, "text": "æ•…æœ¨å—ç¹©å‰‡ç›´ï¼Œé‡‘å°±ç¤ªå‰‡åˆ©ï¼Œå›å­åšå­¸è€Œæ—¥åƒçœä¹å·±ï¼Œå‰‡çŸ¥æ˜è€Œè¡Œç„¡éçŸ£ã€‚", "source": "ã€Šè€å­ãƒ»å‹¸å­¸ã€‹" },
{ "id": 108, "text": "æ•…ä¸ç©è·¬æ­¥ï¼Œç„¡ä»¥è‡³åƒé‡Œï¼›ä¸ç©å°æµï¼Œç„¡ä»¥æˆæ±Ÿæµ·ã€‚", "source": "ã€Šè€å­ãƒ»å‹¸å­¸ã€‹" },
{ "id": 109, "text": "é¥è€Œæ¨ä¹‹ï¼Œæœ½æœ¨ä¸æŠ˜ï¼›é¥è€Œä¸æ¨ï¼Œé‡‘çŸ³å¯é¤ã€‚", "source": "ã€Šè€å­ãƒ»å‹¸å­¸ã€‹" },
{ "id": 110, "text": "è“¬ç”Ÿéº»ä¸­ï¼Œä¸æ‰¶è€Œç›´ï¼›ç™½æ²™åœ¨æ¶…ï¼Œèˆ‡ä¹‹ä¿±é»‘ã€‚", "source": "ã€Šè€å­ãƒ»å‹¸å­¸ã€‹" },
{ "id": 111, "text": "å¤©è¡Œæœ‰å¸¸ï¼Œä¸ç‚ºå ¯å­˜ï¼Œä¸ç‚ºæ¡€äº¡ã€‚", "source": "ã€Šè€å­ãƒ»å¤©è«–ã€‹" },
{ "id": 112, "text": "é“é›–é‚‡ï¼Œä¸è¡Œä¸è‡³ï¼›äº‹é›–å°ï¼Œä¸ç‚ºä¸æˆã€‚", "source": "ã€Šè€å­ãƒ»ä¿®èº«ã€‹" },
{ "id": 113, "text": "åƒé‡Œä¹‹å ¤ï¼Œæ½°æ–¼èŸ»ç©´ã€‚", "source": "ã€ŠéŸ“éå­ãƒ»å–»è€ã€‹" },
{ "id": 114, "text": "ä»¥å­ä¹‹çŸ›ï¼Œæ”»å­ä¹‹ç›¾ã€‚", "source": "ã€ŠéŸ“éå­ãƒ»é›£ä¸€ã€‹" },
{ "id": 115, "text": "äº‹ä»¥å¯†æˆï¼Œèªä»¥æ³„æ•—ã€‚", "source": "ã€ŠéŸ“éå­ãƒ»èªªé›£ã€‹" },
{ "id": 116, "text": "æµæ°´ä¸è…ï¼Œæˆ¶æ¨ä¸è ¹ã€‚", "source": "ã€Šå‘‚æ°æ˜¥ç§‹ãƒ»ç›¡æ•¸ã€‹" },
{ "id": 117, "text": "ä»¥æ¹¯æ­¢æ²¸ï¼Œæ²¸æ„ˆä¸æ­¢ï¼Œå»å…¶ç«å‰‡æ­¢çŸ£ã€‚", "source": "ã€Šå‘‚æ°æ˜¥ç§‹ãƒ»ç›¡æ•¸ã€‹" },
{ "id": 118, "text": "å¯Ÿå·±å‰‡å¯ä»¥çŸ¥äººï¼Œå¯Ÿä»Šå‰‡å¯ä»¥çŸ¥å¤ã€‚", "source": "ã€Šå‘‚æ°æ˜¥ç§‹ãƒ»å¯Ÿä»Šã€‹" },
{ "id": 119, "text": "ç¨å­¸è€Œç„¡å‹ï¼Œå‰‡å­¤é™‹è€Œå¯¡èã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»å­¸è¨˜ã€‹" },
{ "id": 120, "text": "ç‰ä¸ç¢ï¼Œä¸æˆå™¨ï¼›äººä¸å­¸ï¼Œä¸çŸ¥é“ã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»å­¸è¨˜ã€‹" },
{ "id": 121, "text": "å‡¡äº‹é å‰‡ç«‹ï¼Œä¸é å‰‡å»¢ã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»ä¸­åº¸ã€‹" },
{ "id": 122, "text": "ä¾†è€Œä¸å¾€ï¼Œéç¦®ä¹Ÿï¼›ä¾†è€Œä¸å¾€ï¼Œäº¦éç¦®ä¹Ÿã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»æ›²ç¦®ä¸Šã€‹" },
{ "id": 123, "text": "ä¸€å¼µä¸€å¼›ï¼Œæ–‡æ­¦ä¹‹é“ä¹Ÿã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»é›œè¨˜ä¸‹ã€‹" },
{ "id": 124, "text": "å›å­ä¹‹æ„›äººä¹Ÿä»¥å¾·ï¼Œç´°äººä¹‹æ„›äººä¹Ÿä»¥å§‘æ¯ã€‚", "source": "æˆ´è–ã€Šç¦®è¨˜ãƒ»æª€å¼“ä¸Šã€‹" },
{ "id": 125, "text": "æ³°å±±ä¸è®“åœŸå£¤ï¼Œæ•…èƒ½æˆå…¶å¤§ï¼›æ²³æµ·ä¸æ“‡ç´°æµï¼Œæ•…èƒ½å°±å…¶æ·±ã€‚", "source": "ææ–¯ã€Šè««é€å®¢æ›¸ã€‹" },
{ "id": 126, "text": "è‡¨æ·µç¾¡é­šï¼Œä¸å¦‚é€€è€Œçµç¶²ï¼ˆè‡¨æ²³è€Œç¾¨é­šï¼Œä¸å¦‚æ­¸å®¶ç¹”ç¶²ï¼‰ã€‚", "source": "ã€Šæ·®å—å­ãƒ»èªªæ—è¨“ã€‹" },
{ "id": 127, "text": "å¡ç¿å¤±é¦¬ï¼Œç„‰çŸ¥éç¦ã€‚", "source": "ã€Šæ·®å—å­ãƒ»äººé–“è¨“ã€‹" },
{ "id": 128, "text": "å¤±ä¹‹æ¯«å˜ï¼Œè¬¬ï¼ˆå·®ï¼‰ä»¥åƒé‡Œã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»å¤ªå²å…¬è‡ªåºã€‹" },
{ "id": 129, "text": "æ¡ƒæä¸è¨€ï¼Œä¸‹è‡ªæˆè¹Šã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»æå°‡è»åˆ—å‚³ã€‹" },
{ "id": 130, "text": "æ™ºè€…åƒæ…®ï¼Œå¿…æœ‰ä¸€å¤±ï¼›æ„šè€…åƒæ…®ï¼Œå¿…æœ‰ä¸€å¾—ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»æ·®é™°ä¾¯åˆ—å‚³ã€‹" },
{ "id": 131, "text": "éŸ“ä¿¡å°‡å…µï¼Œå¤šå¤šç›Šå–„ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»æ·®é™°ä¾¯åˆ—å‚³ã€‹" },
{ "id": 132, "text": "é‹ç±Œå¸·å¹„ä¹‹ä¸­ï¼Œæ±ºå‹åƒé‡Œä¹‹å¤–ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»ç•™ä¾¯ä¸–å®¶ã€‹" },
{ "id": 133, "text": "å¿ è¨€é€†è€³åˆ©æ–¼è¡Œï¼Œè‰¯è—¥è‹¦å£åˆ©æ–¼ç—…ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»ç•™ä¾¯ä¸–å®¶ã€‹" },
{ "id": 134, "text": "ä»Šè€…é …èŠæ‹”åŠèˆï¼Œå…¶æ„å¸¸åœ¨æ²›å…¬ä¹Ÿã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»é …ç¾½æœ¬ç´€ã€‹" },
{ "id": 135, "text": "å¤§è¡Œä¸é¡§ç´°è¬¹ï¼Œå¤§ç¦®ä¸è¾­å°è®“ã€‚å¦‚ä»Šäººæ–¹ç‚ºåˆ€ä¿ï¼Œæˆ‘ç‚ºé­šè‚‰ï¼Œä½•è¾­ç‚ºï¼Ÿ", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»é …ç¾½æœ¬ç´€ã€‹" },
{ "id": 136, "text": "ä¸é³´å‰‡å·²ï¼Œä¸€é³´é©šäººã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»æ»‘ç¨½åˆ—å‚³ã€‹" },
{ "id": 137, "text": "é¡§å°è€Œå¿˜å¤§ï¼Œå¾Œå¿…æœ‰å®³ï¼›ç‹ç–‘çŒ¶è±«ï¼Œå¾Œå¿…æœ‰æ‚”ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»ææ–¯åˆ—å‚³ã€‹" },
{ "id": 138, "text": "çœ¾å£é‘ é‡‘ï¼Œç©æ¯€éŠ·éª¨ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»å¼µå„€åˆ—å‚³ã€‹" },
{ "id": 139, "text": "å€‰å»ªå¯¦è€ŒçŸ¥ç¦®ç¯€ï¼Œè¡£é£Ÿè¶³è€ŒçŸ¥æ¦®è¾±ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»è²¨æ®–åˆ—å‚³ã€‹/ å¸é¦¬é·ã€Šå²è¨˜ãƒ»ç®¡æ™åˆ—å‚³ã€‹" },
{ "id": 140, "text": "å¤©ä¸‹ç†™ç†™ï¼Œçš†ç‚ºåˆ©ä¾†ï¼›å¤©ä¸‹æ”˜æ”˜ï¼Œçš†ç‚ºåˆ©å¾€ã€‚", "source": "å¸é¦¬é·ã€Šå²è¨˜ãƒ»è²¨æ®–åˆ—å‚³ã€‹" },
{ "id": 141, "text": "äº¦æ¬²ä»¥ç©¶å¤©äººä¹‹éš›ï¼Œé€šå¤ä»Šä¹‹è®Šï¼Œæˆä¸€å®¶ä¹‹è¨€ã€‚", "source": "å¸é¦¬é·ã€Šå ±ä»»å®‰æ›¸ã€‹" },
{ "id": 142, "text": "äººå›ºæœ‰ä¸€æ­»ï¼Œæˆ–é‡æ–¼æ³°å±±ï¼Œæˆ–è¼•æ–¼é´»æ¯›ã€‚", "source": "å¸é¦¬é·ã€Šå ±ä»»å®‰ä¹¦ã€‹" },
{ "id": 143, "text": "ç›ˆç›ˆä¸€æ°´é–“ï¼Œè„ˆè„ˆä¸å¾—èªã€‚", "source": "ã€Šå¤è©©åä¹é¦–ãƒ»è¿¢è¿¢ç‰½ç‰›æ˜Ÿã€‹" },
{ "id": 144, "text": "èˆ‰æ‰‹é•·å‹å‹ï¼ŒäºŒæƒ…åŒä¾ä¾ã€‚", "source": "ã€Šæ¨‚åºœè©©é›†ãƒ»å­”é›€æ±å—é£›ã€‹" },
{ "id": 145, "text": "å°‘å£¯ä¸åŠªåŠ›ï¼Œè€å¤§å¾’å‚·æ‚²ï¼", "source": "æ¼¢æ¨‚åºœã€Šé•·æ­Œè¡Œã€‹" },
{ "id": 146, "text": "ç¹©é‹¸æœ¨æ–·ï¼Œæ°´æ»´çŸ³ç©¿ã€‚", "source": "ç¾…å¤§ç¶“ã€Šé¶´æ—ç‰éœ²ãƒ»ä¸€éŒ¢æ–¬åã€‹" },
{ "id": 147, "text": "æ°´è‡³æ¸…å‰‡ç„¡é­šï¼Œäººè‡³å¯Ÿå‰‡ç„¡å¾’ã€‚", "source": "ç­å›ºã€Šæ¼¢æ›¸ãƒ»æ±æ–¹æœ”å‚³ã€‹" },
{ "id": 148, "text": "å¤±ä¹‹æ±éš…ï¼Œæ”¶ä¹‹æ¡‘æ¦†ã€‚", "source": "èŒƒæ›„ã€Šå¾Œæ¼¢æ›¸ãƒ»é¦®å²‘è³ˆåˆ—å‚³ã€‹" },
{ "id": 149, "text": "ç²¾èª æ‰€è‡³ï¼ˆåŠ ï¼‰ï¼Œé‡‘çŸ³ç‚ºé–‹ã€‚", "source": "èŒƒæ›„ã€Šå¾Œæ¼¢æ›¸ãƒ»å»£é™µæ€ç‹èŠå‚³ã€‹" },
{ "id": 150, "text": "ä¸å…¥è™ç©´ï¼Œç„‰å¾—è™å­ã€‚", "source": "èŒƒæ›„ã€Šå¾Œæ¼¢æ›¸ãƒ»ç­è¶…å‚³ã€‹" },
{ "id": 151, "text": "è²§è³¤ä¹‹çŸ¥ä¸å¯å¿˜ï¼Œç³Ÿç³ ä¹‹å¦»ä¸ä¸‹å ‚ã€‚", "source": "èŒƒæ›„ã€Šå¾Œæ¼¢æ›¸ãƒ»å®‹å¼˜å‚³ã€‹" },
{ "id": 152, "text": "å›å­ä¸æ‚£ä½ä¹‹ä¸å°Šï¼Œè€Œæ‚£å¾·ä¹‹ä¸å´‡ã€‚", "source": "èŒƒæ›„ã€Šå¾Œæ¼¢æ›¸ãƒ»å¼µè¡¡å‚³ã€‹" },
{ "id": 153, "text": "è€é©¥ä¼æ«ªï¼Œå¿—åœ¨åƒé‡Œï¼›çƒˆå£«æš®å¹´ï¼Œå£¯å¿ƒä¸å·²ã€‚", "source": "æ›¹æ“ã€Šé¾œé›–å£½ã€‹" },
{ "id": 154, "text": "å±±ä¸å­é«˜ï¼Œæµ·ä¸å­æ·±ã€‚å‘¨å…¬åå“ºï¼Œå¤©ä¸‹æ­¸å¿ƒã€‚", "source": "æ›¹æ“ã€ŠçŸ­æ­Œè¡Œã€‹" },
{ "id": 155, "text": "ç™½éª¨éœ²æ–¼é‡ï¼Œåƒé‡Œç„¡é›é³´ã€‚", "source": "æ›¹æ“ã€Šè’¿é‡Œè¡Œã€‹" },
{ "id": 156, "text": "æè»€èµ´åœ‹é›£ï¼Œè¦–æ­»å¿½å¦‚æ­¸ã€‚", "source": "æ›¹æ“ã€Šç™½é¦¬ç¯‡ã€‹" },
{ "id": 157, "text": "æ­²æœˆä¸å±…ï¼Œæ™‚ç¯€å¦‚æµã€‚", "source": "å­”èã€Šè«–ç››å­ç« æ›¸ã€‹" },
{ "id": 158, "text": "ä½•æ„ç™¾ç…‰é‹¼ï¼ŒåŒ–ç‚ºç¹æŒ‡æŸ”ã€‚", "source": "åŠ‰ç¨ã€Šé‡è´ˆç›§è«¶ã€‹" },
{ "id": 159, "text": "å—ä»»æ–¼æ•—è»ä¹‹éš›ï¼Œå¥‰å‘½æ–¼å±é›£ä¹‹é–“ã€‚", "source": "è«¸è‘›äº®ã€Šå‡ºå¸«è¡¨ã€‹" },
{ "id": 160, "text": "é èº¬ç›¡ç˜ï¼Œæ­»è€Œå¾Œå·²ã€‚", "source": "è«¸è‘›äº®ã€Šå¾Œå‡ºå¸«è¡¨ã€‹" },
{ "id": 161, "text": "éæ·¡æ³Šç„¡ä»¥æ˜å¿—ï¼Œéå¯§éœç„¡ä»¥è‡´é ã€‚", "source": "è«¸è‘›äº®ã€Šèª¡å­æ›¸ã€‹" },
{ "id": 162, "text": "éå­¸ç„¡ä»¥å»£æ‰ï¼Œéå¿—ç„¡ä»¥æˆå­¸ã€‚", "source": "è«¸è‘›äº®ã€Šèª¡å­æ›¸ã€‹" },
{ "id": 163, "text": "å‹¿ä»¥æƒ¡å°è€Œç‚ºä¹‹ï¼Œå‹¿ä»¥å–„å°è€Œä¸ç‚ºã€‚", "source": "é™³å£½ã€Šä¸‰åœ‹å¿—ãƒ»èœ€å¿—ã€‹è£´ä¹‹æ¾è¨»" },
{ "id": 164, "text": "æ¡èŠæ±ç±¬ä¸‹ï¼Œæ‚ ç„¶è¦‹å—å±±ã€‚", "source": "é™¶æ·µæ˜ã€Šé£²é…’ã€‹" },
{ "id": 165, "text": "ç¾ˆé³¥æˆ€èˆŠæ—ï¼Œæ± é­šæ€æ•…æ·µã€‚", "source": "é™¶æ·µæ˜ã€Šæ­¸åœ’ç”°å±…ã€‹" },
{ "id": 166, "text": "é›²ç„¡å¿ƒä»¥å‡ºå²«ï¼Œé³¥å€¦é£›è€ŒçŸ¥é‚„ã€‚", "source": "é™¶æ·µæ˜ã€Šæ­¸å»ä¾†å…®è¾­ã€‹" },
{ "id": 167, "text": "æœ¨æ¬£æ¬£ä»¥å‘æ¦®ï¼Œæ³‰æ¶“æ¶“è€Œå§‹æµã€‚", "source": "é™¶æ·µæ˜ã€Šæ­¸å»ä¾†å…®è¾­ã€‹" },
{ "id": 168, "text": "ç››å¹´ä¸é‡ä¾†ï¼Œä¸€æ—¥é›£å†æ™¨ã€‚", "source": "é™¶æ·µæ˜ã€Šé›œè©©ã€‹" },
{ "id": 169, "text": "åŠæ™‚ç•¶å‹‰å‹µï¼Œæ­²æœˆä¸å¾…äººã€‚", "source": "é™¶æ·µæ˜ã€Šé›œè©©ã€‹" },
{ "id": 170, "text": "åˆ‘å¤©èˆå¹²æˆšï¼ŒçŒ›å¿—å›ºå¸¸åœ¨ã€‚", "source": "é™¶æ·µæ˜ã€Šè®€å±±æµ·ç¶“ã€‹" },
{ "id": 171, "text": "ä¸æˆšæˆšæ–¼è²§è³¤ï¼Œä¸æ±²æ±²æ–¼å¯Œè²´ã€‚", "source": "é™¶æ·µæ˜ã€Šäº”æŸ³å…ˆç”Ÿå‚³ã€‹" },
{ "id": 172, "text": "æ± å¡˜ç”Ÿæ˜¥è‰ï¼Œåœ’æŸ³è®Šé³´ç¦½ã€‚", "source": "è¬éˆé‹ã€Šç™»æ± ä¸Šæ¨“ã€‹" },
{ "id": 173, "text": "å¯§ç‚ºç‰ç¢ï¼Œä¸ç‚ºç“¦å…¨ã€‚", "source": "æç™¾è—¥ã€ŠåŒ—é½Šæ›¸ãƒ»å…ƒæ™¯å®‰å‚³ã€‹" },
{ "id": 174, "text": "æ¬²äººå‹¿çŸ¥ï¼Œè«è‹¥å‹¿ç‚ºã€‚", "source": "æšä¹˜ã€Šä¸Šæ›¸è««å³ç‹ã€‹" },
{ "id": 175, "text": "è¿‘æœ±è€…èµ¤ï¼Œè¿‘å¢¨è€…é»‘ã€‚", "source": "å‚…ç„ã€Šå¤ªå­å°‘å‚…ç®´ã€‹" },
{ "id": 176, "text": "ç™»å±±å‰‡æƒ…æ»¿æ–¼å±±ï¼Œè§€æµ·å‰‡æ„æº¢æ–¼æµ·ã€‚", "source": "åŠ‰å‹°ã€Šæ–‡å¿ƒé›•é¾ãƒ»ç¥æ€ã€‹" },
{ "id": 177, "text": "æ“åƒæ›²è€Œå¾Œæ›‰è²ï¼Œè§€åƒåŠè€Œå¾Œè­˜å™¨ã€‚", "source": "åŠ‰å‹°ã€Šæ–‡å¿ƒé›•é¾ãƒ»çŸ¥éŸ³ã€‹" },
{ "id": 178, "text": "é¤˜éœæ•£æˆç¶ºï¼Œæ¾„æ±Ÿéœå¦‚ç·´ã€‚", "source": "è¬çœºã€Šæ™šç™»ä¸‰å±±é‚„æœ›äº¬é‚‘ã€‹" },
{ "id": 179, "text": "èŸ¬å™ªæ—æ„ˆéœï¼Œé³¥é³´å±±æ›´å¹½ã€‚", "source": "ç‹ç±ã€Šå…¥è‹¥è€¶æºªã€‹" },
{ "id": 180, "text": "ç–¾é¢¨çŸ¥å‹è‰ï¼Œæ¿è•©è­˜èª è‡£ã€‚", "source": "å”å¤ªå®—ã€Šè´ˆè•­ç‘€ã€‹" },
{ "id": 181, "text": "æµ·å…§å­˜çŸ¥å·±ï¼Œå¤©æ¶¯è‹¥æ¯”é„°ã€‚", "source": "ç‹å‹ƒã€Šé€æœå°‘åºœä¹‹ä»»èœ€å·ã€‹" },
{ "id": 182, "text": "è½éœèˆ‡å­¤é¶©é½Šé£›ï¼Œç§‹æ°´å…±é•·å¤©ä¸€è‰²ã€‚", "source": "ç‹å‹ƒã€Šæ»•ç‹é–£åºã€‹" },
{ "id": 183, "text": "é¦®å”æ˜“è€ï¼Œæå»£é›£å°ã€‚", "source": "ç‹å‹ƒã€Šæ»•ç‹é–£åºã€‹" },
{ "id": 184, "text": "å¿µå¤©åœ°ä¹‹æ‚ æ‚ ï¼Œç¨æ„´ç„¶è€Œæ¶•ä¸‹ã€‚", "source": "é™³å­æ˜‚ã€Šç™»å¹½å·å°æ­Œã€‹" },
{ "id": 185, "text": "æ˜¥æ±Ÿæ½®æ°´é€£æµ·å¹³ï¼Œæµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿã€‚", "source": "å¼µè‹¥è™›ã€Šæ˜¥æ±ŸèŠ±æœˆå¤œã€‹" },
{ "id": 186, "text": "æ±Ÿç•”ä½•äººåˆè¦‹æœˆï¼Ÿæ±Ÿæœˆä½•å¹´åˆç…§äººï¼Ÿ", "source": "å¼µè‹¥è™›ã€Šæ˜¥æ±ŸèŠ±æœˆå¤œã€‹" },
{ "id": 187, "text": "å¹´å¹´æ­²æ­²èŠ±ç›¸ä¼¼ï¼Œæ­²æ­²å¹´å¹´äººä¸åŒã€‚", "source": "åŠ‰å¸Œå¤·ã€Šä»£æ‚²ç™½é ­ç¿ã€‹" },
{ "id": 188, "text": "æµ·ä¸Šç”Ÿæ˜æœˆï¼Œå¤©æ¶¯å…±æ­¤æ™‚ã€‚", "source": "å¼µä¹é½¡ã€Šæœ›æœˆæ‡·é ã€‹" },
{"id": 189, "text": "æ€å›å¦‚æ»¿æœˆï¼Œå¤œå¤œæ¸›æ¸…è¼ã€‚", "source": "å¼µä¹é½¡ã€Šè³¦å¾—è‡ªå›ä¹‹å‡ºçŸ£ã€‹"},
{ "id": 190, "text": "é‡æ› å¤©ä½æ¨¹ï¼Œæ±Ÿæ¸…æœˆè¿‘äººã€‚", "source": "å­Ÿæµ©ç„¶ã€Šå®¿å»ºå¾·æ±Ÿã€‹" },
{ "id": 191, "text": "æ°£è’¸é›²å¤¢æ¾¤ï¼Œæ³¢æ’¼å²³é™½åŸã€‚", "source": "å­Ÿæµ©ç„¶ã€Šæœ›æ´åº­æ¹–è´ˆå¼µä¸ç›¸ã€‹" },
{ "id": 192, "text": "è‰æœ¨æœ¬ç„¡æ„ï¼Œæ¦®æ¯è‡ªæœ‰æ™‚ã€‚", "source": "å­Ÿæµ©ç„¶ã€Šæ±Ÿä¸Šå¯„å±±é™°å´”å°‘åºœåœ‹è¼”ã€‹" },
{ "id": 193, "text": "å¤§æ¼ å­¤ç…™ç›´ï¼Œé•·æ²³è½æ—¥åœ“ã€‚", "source": "ç‹ç¶­ã€Šä½¿è‡³å¡ä¸Šã€‹" },
{ "id": 194, "text": "ç¨åœ¨ç•°é„‰ç‚ºç•°å®¢ï¼Œæ¯é€¢ä½³ç¯€å€æ€è¦ªã€‚", "source": "ç‹ç¶­ã€Šä¹æœˆä¹æ—¥æ†¶å±±æ±å…„å¼Ÿã€‹" },
{ "id": 195, "text": "å‹¸å›æ›´ç›¡ä¸€æ¯é…’ï¼Œè¥¿å‡ºé™½é—œç„¡æ•…äººã€‚", "source": "ç‹ç¶­ã€Šé€å…ƒäºŒä½¿å®‰è¥¿ã€‹" },
{ "id": 196, "text": "æœˆå‡ºé©šå±±é³¥ï¼Œæ™‚é³´æ˜¥æ¾—ä¸­ã€‚", "source": "ç‹ç¶­ã€Šé³¥é³´æ¾—ã€‹" },
{ "id": 197, "text": "è¡Œåˆ°æ°´çª®è™•ï¼Œåçœ‹é›²èµ·æ™‚ã€‚", "source": "ç‹ç¶­ã€Šçµ‚å—åˆ¥æ¥­ã€‹" },
{ "id": 198, "text": "ç§¦æ™‚æ˜æœˆæ¼¢æ™‚é—œï¼Œè¬é‡Œé•·å¾äººæœªé‚„ã€‚", "source": "ç‹æ˜Œé½¡ã€Šå‡ºå¡ã€‹" },
{ "id": 199, "text": "ä½†ä½¿é¾åŸé£›å°‡åœ¨ï¼Œä¸æ•™èƒ¡é¦¬åº¦é™°å±±ï¼", "source": "ç‹æ˜Œé½¡ã€Šå‡ºå¡ã€‹" },
{ "id": 200, "text": "æ´›é™½è¦ªå‹å¦‚ç›¸å•ï¼Œä¸€ç‰‡å†°å¿ƒåœ¨ç‰å£ºã€‚", "source": "ç‹æ˜Œé½¡ã€ŠèŠ™è“‰æ¨“é€è¾›æ¼¸ã€‹" }

     ];

    // éŠæˆ²ç‹€æ…‹
    let cards = [];
    let firstCard = null, secondCard = null;
    let lockBoard = false;
    let matchedCount = 0;
    let totalPairs = 5; // é è¨­5çµ„
    let selectedQuotes = []; // ç•¶å‰é¸ä¸­çš„åå¥

    // è¨ˆæ™‚å™¨ç‹€æ…‹
    let timerInterval = null;
    let startTime = 0;
    let elapsed = 0;
    let running = false;
    let gameStarted = false;
    let isPaused = false;

    const boardEl = document.getElementById('game-board');
    const statusEl = document.getElementById('status');
    const timerEl = document.getElementById('timer');
    const bestEl = document.getElementById('best');
    const pairsEl = document.getElementById('pairs');
    const totalPairsEl = document.getElementById('total-pairs');
    const btnNew = document.getElementById('btn-new');
    const btnPause = document.getElementById('btn-pause');
    const btnResume = document.getElementById('btn-resume');
    const btnHome = document.getElementById('btn-home');
    const pairCountSelect = document.getElementById('pair-count');
    const answerContainerEl = document.getElementById('answer-container');
    
    // æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•
    const mobileNew = document.getElementById('mobile-new');
    const mobilePause = document.getElementById('mobile-pause');
    const mobileResume = document.getElementById('mobile-resume');
    const mobileHome = document.getElementById('mobile-home');

    // å·¥å…·ï¼šæ´—ç‰Œ
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // å–éš¨æ©Ÿåå¥çµ„
    function pickRandomQuotes(num) {
      // ç¢ºä¿ä¸è¶…éå¯ç”¨åå¥æ•¸é‡
      const availableQuotes = [...quotes];
      if (num > availableQuotes.length) {
        num = availableQuotes.length;
      }
      
      const indices = shuffle([...Array(availableQuotes.length).keys()]);
      return indices.slice(0, num).map(i => availableQuotes[i]);
    }

    // åˆå§‹åŒ–ç­”æ¡ˆæ¬„
    function initAnswerBoard() {
      answerContainerEl.innerHTML = '';
      selectedQuotes.forEach((quote) => {
        const pairDiv = document.createElement('div');
        pairDiv.className = 'answer-pair';
        pairDiv.id = `answer-pair-${quote.id}`;
        
        // æ·»åŠ åºè™Ÿï¼ˆåˆå§‹éš±è—ï¼‰
        const numberDiv = document.createElement('div');
        numberDiv.className = 'pair-number';
        numberDiv.textContent = quote.id;
        numberDiv.style.display = 'none'; // åˆå§‹éš±è—
        
        const textDiv = document.createElement('div');
        textDiv.className = 'answer-text';
        textDiv.innerHTML = '<span class="answer-placeholder">ç­‰å¾…é…å°...</span>';
        const textType = document.createElement('div');
        textType.className = 'answer-type';
        textType.textContent = 'åå¥';
        textDiv.appendChild(textType);
        
        const sourceDiv = document.createElement('div');
        sourceDiv.className = 'answer-source';
        sourceDiv.innerHTML = '<span class="answer-placeholder">ç­‰å¾…é…å°...</span>';
        const sourceType = document.createElement('div');
        sourceType.className = 'answer-type';
        sourceType.textContent = 'å‡ºè™•';
        sourceDiv.appendChild(sourceType);
        
        pairDiv.appendChild(numberDiv);
        pairDiv.appendChild(textDiv);
        pairDiv.appendChild(sourceDiv);
        answerContainerEl.appendChild(pairDiv);
      });
    }

    // æ›´æ–°ç­”æ¡ˆæ¬„
    function updateAnswerBoard(quoteId, text, source) {
      const pairDiv = document.getElementById(`answer-pair-${quoteId}`);
      if (pairDiv) {
        // é¡¯ç¤ºåºè™Ÿ
        const numberDiv = pairDiv.querySelector('.pair-number');
        numberDiv.style.display = 'flex';
        setTimeout(() => {
          numberDiv.classList.add('visible');
        }, 10);
        
        const textDiv = pairDiv.querySelector('.answer-text');
        const sourceDiv = pairDiv.querySelector('.answer-source');
        
        textDiv.innerHTML = text;
        const textType = document.createElement('div');
        textType.className = 'answer-type';
        textType.textContent = 'åå¥';
        textDiv.appendChild(textType);
        
        sourceDiv.innerHTML = source;
        const sourceType = document.createElement('div');
        sourceType.className = 'answer-type';
        sourceType.textContent = 'å‡ºè™•';
        sourceDiv.appendChild(sourceType);
        
        // æ·»åŠ å‹•ç•«æ•ˆæœ
        textDiv.style.animation = 'none';
        sourceDiv.style.animation = 'none';
        setTimeout(() => {
          textDiv.style.animation = 'popIn 0.5s ease';
          sourceDiv.style.animation = 'popIn 0.5s ease';
        }, 10);
      }
    }

    // è¨ˆæ™‚å™¨ï¼šæ ¼å¼åŒ–
    function formatTime(ms) {
      const totalMs = Math.max(0, ms | 0);
      const totalSec = Math.floor(totalMs / 1000);
      const min = Math.floor(totalSec / 60);
      const sec = totalSec % 60;
      const deci = Math.floor((totalMs % 1000) / 100);
      const mm = String(min).padStart(2, '0');
      const ss = String(sec).padStart(2, '0');
      return `${mm}:${ss}.${deci}`;
    }

    // è¨ˆæ™‚å™¨ï¼šæ›´æ–°ç•«é¢
    function updateTimerDisplay() {
      timerEl.textContent = formatTime(elapsed);
    }

    // è¨ˆæ™‚å™¨ï¼šé–‹å§‹
    function startTimer() {
      if (running) return;
      running = true;
      gameStarted = true; // ç¢ºä¿éŠæˆ²ç‹€æ…‹æ¨™è¨˜ç‚ºå·²é–‹å§‹
      startTime = performance.now();
      timerInterval = setInterval(() => {
        const now = performance.now();
        elapsed += (now - startTime);
        startTime = now;
        updateTimerDisplay();
      }, 100);
    }

    // è¨ˆæ™‚å™¨ï¼šæš«åœ
    function pauseTimer() {
      if (!running) return;
      running = false;
      clearInterval(timerInterval);
      timerInterval = null;
    }

    // è¨ˆæ™‚å™¨ï¼šæ¢å¾©
    function resumeTimer() {
      if (running) return;
      running = true;
      startTime = performance.now();
      timerInterval = setInterval(() => {
        const now = performance.now();
        elapsed += (now - startTime);
        startTime = now;
        updateTimerDisplay();
      }, 100);
    }

    // è¨ˆæ™‚å™¨ï¼šé‡ç½®
    function resetTimer() {
      pauseTimer();
      elapsed = 0;
      running = false;
      gameStarted = false;
      updateTimerDisplay();
      btnPause.style.display = '';
      btnResume.style.display = 'none';
      mobilePause.style.display = '';
      mobileResume.style.display = 'none';
      isPaused = false;
    }

    // æœ€ä½³æˆç¸¾
    const BEST_KEY = 'match-quote-best-time-ms';
    function loadBest() {
      const v = localStorage.getItem(BEST_KEY);
      if (v && !isNaN(+v)) {
        bestEl.textContent = formatTime(+v);
      } else {
        bestEl.textContent = 'â€”';
      }
    }
    
    function saveBestIfBetter(ms) {
      const v = localStorage.getItem(BEST_KEY);
      if (!v || ms < +v) {
        localStorage.setItem(BEST_KEY, String(ms));
        bestEl.textContent = formatTime(ms);
      }
    }

    // é¡¯ç¤ºå®Œæˆè¨Šæ¯
    function showCompletionMessage() {
      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      
      const messageDiv = document.createElement('div');
      messageDiv.className = 'completed-message';
      messageDiv.innerHTML = `
        <h2>æ­å–œå®Œæˆï¼</h2>
        <p>æ‚¨ç”¨æ™‚: ${formatTime(elapsed)}</p>
        <p>${elapsed < 60000 ? 'ğŸ‰ å¤ªæ£’äº†ï¼' : 'ğŸ‘ åšå¾—å¾ˆå¥½ï¼'}</p>
        <button class="btn" onclick="this.parentElement.parentElement.remove()">ç¹¼çºŒéŠæˆ²</button>
      `;
      
      overlay.appendChild(messageDiv);
      document.body.appendChild(overlay);
    }

    // é–‹æ–°å±€
    function newGame() {
      statusEl.textContent = 'è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°';
      matchedCount = 0;
      firstCard = null; 
      secondCard = null; 
      lockBoard = false;

      // ç²å–é¸æ“‡çš„é›£åº¦
      totalPairs = parseInt(pairCountSelect.value);
      totalPairsEl.textContent = totalPairs;
      pairsEl.textContent = '0';

      // é¸å–åå¥
      selectedQuotes = pickRandomQuotes(totalPairs);

      // åˆå§‹åŒ–ç­”æ¡ˆæ¬„
      initAnswerBoard();

      // å»ºç«‹å¡ç‰Œ
      cards = [];
      selectedQuotes.forEach((item) => {
        cards.push({ id: item.id, type: 'text', value: item.text });
        cards.push({ id: item.id, type: 'source', value: item.source });
      });
      shuffle(cards);

      // æ¸²æŸ“
      boardEl.innerHTML = '';
      cards.forEach((card, i) => {
        const div = document.createElement('div');
        div.className = 'card';
        div.dataset.idx = i;
        div.dataset.id = card.id;
        div.dataset.type = card.type;
        
        // å¡ç‰‡æ­£é¢ - é¡¯ç¤º"ç¿»ç‰Œ"
        const cardFront = document.createElement('div');
        cardFront.className = 'card-front';
        cardFront.innerText = 'ç¿»ç‰Œ';
        
        // å¡ç‰‡èƒŒé¢ - é¡¯ç¤ºå…§å®¹
        const cardBack = document.createElement('div');
        cardBack.className = 'card-back';
        cardBack.innerText = card.value;
        
        div.appendChild(cardFront);
        div.appendChild(cardBack);
        
        // ä½¿ç”¨äº‹ä»¶å§”æ´¾è€Œä¸æ˜¯ç›´æ¥ç¶å®šäº‹ä»¶
        boardEl.appendChild(div);
      });

      // æ ¹æ“šé›£åº¦èª¿æ•´ç¶²æ ¼
      if (totalPairs <= 5) {
        boardEl.style.gridTemplateColumns = 'repeat(5, 1fr)';
      } else if (totalPairs <= 8) {
        boardEl.style.gridTemplateColumns = 'repeat(4, 1fr)';
      } else {
        boardEl.style.gridTemplateColumns = 'repeat(5, 1fr)';
      }

      // é‡ç½®è¨ˆæ™‚å™¨
      resetTimer();
      
      // é‡æ–°ç¶å®šå¡ç‰‡é»æ“Šäº‹ä»¶
      bindCardEvents();
    }

    // ç¶å®šå¡ç‰‡äº‹ä»¶
    function bindCardEvents() {
      const cardElements = boardEl.querySelectorAll('.card');
      cardElements.forEach((div, i) => {
        const card = cards[i];
        // ç§»é™¤èˆŠçš„äº‹ä»¶ç›£è½å™¨
        div.onclick = null;
        div.ontouchstart = null;
        
        // æ·»åŠ æ–°çš„äº‹ä»¶ç›£è½å™¨
        div.addEventListener('click', () => flipCard(div, card, i));
        div.addEventListener('touchstart', (e) => {
          if (e.touches.length === 1) { // ç¢ºä¿æ˜¯å–®æŒ‡è§¸æ§
            e.preventDefault(); // é˜²æ­¢æ‰‹æ©Ÿä¸Šçš„é»˜èªè¡Œç‚º
            flipCard(div, card, i);
          }
        }, { passive: false });
      });
    }

    // ç¿»ç‰Œ
    function flipCard(div, card, idx) {
      if (lockBoard || isPaused || div.classList.contains('matched')) return;
      if (div.classList.contains('flipped')) return;

      // ç¬¬ä¸€æ¬¡ç¿»ç‰Œæ‰é–‹å•Ÿè¨ˆæ™‚
      if (!gameStarted) {
        startTimer(); // ç›´æ¥å•Ÿå‹•è¨ˆæ™‚å™¨
      }

      div.classList.add('flipped');

      if (!firstCard) {
        firstCard = { div, card, idx };
      } else {
        secondCard = { div, card, idx };
        lockBoard = true;

        // æª¢æŸ¥é…å°
        if (
          firstCard.card.id === secondCard.card.id &&
          firstCard.card.type !== secondCard.card.type
        ) {
          // é…å°æˆåŠŸ
          setTimeout(() => {
            firstCard.div.classList.add('matched');
            secondCard.div.classList.add('matched');
            
            // å¾éŠæˆ²æ¿ä¸Šç§»é™¤é…å°æˆåŠŸçš„å¡ç‰‡
            setTimeout(() => {
              firstCard.div.style.visibility = 'hidden';
              secondCard.div.style.visibility = 'hidden';
            }, 500);
            
            // æ›´æ–°ç­”æ¡ˆæ¬„
            const quote = selectedQuotes.find(q => q.id === firstCard.card.id);
            if (quote) {
              updateAnswerBoard(quote.id, quote.text, quote.source);
            }
            
            matchedCount++;
            pairsEl.textContent = matchedCount;
            resetTurn();

            if (matchedCount === totalPairs) {
              pauseTimer();
              statusEl.textContent = `æ­å–œä½ å…¨éƒ¨é…å°æˆåŠŸï¼ç”¨æ™‚ï¼š${formatTime(elapsed)}`;
              saveBestIfBetter(elapsed);
              setTimeout(showCompletionMessage, 500);
            }
          }, 500);
        } else {
          // é…å°å¤±æ•—
          setTimeout(() => {
            firstCard.div.classList.remove('flipped');
            secondCard.div.classList.remove('flipped');
            resetTurn();
          }, 1000);
        }
      }
    }

    function resetTurn() {
      [firstCard, secondCard] = [null, null];
      lockBoard = false;
    }

    // æŒ‰éˆ•äº‹ä»¶
    function setupButtonEvents() {
      // æ¡Œé¢ç‰ˆæŒ‰éˆ•
      btnNew.addEventListener('click', newGame);
      btnPause.addEventListener('click', pauseGame);
      btnResume.addEventListener('click', resumeGame);
      btnHome.addEventListener('click', goHome);
      
      // æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•
      mobileNew.addEventListener('click', newGame);
      mobilePause.addEventListener('click', pauseGame);
      mobileResume.addEventListener('click', resumeGame);
      mobileHome.addEventListener('click', goHome);
    }
    
    function pauseGame() {
      pauseTimer();
      isPaused = true;
      btnPause.style.display = 'none';
      btnResume.style.display = '';
      mobilePause.style.display = 'none';
      mobileResume.style.display = '';
      statusEl.textContent = 'å·²æš«åœã€‚é»é¸ã€Œç¹¼çºŒã€ç¹¼çºŒéŠæˆ²ã€‚';
    }
    
    function resumeGame() {
      resumeTimer();
      isPaused = false;
      btnPause.style.display = '';
      btnResume.style.display = 'none';
      mobilePause.style.display = '';
      mobileResume.style.display = 'none';
      statusEl.textContent = 'è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°';
    }
    
    function goHome() {
      window.location.href = "https://wongonkei825-alt.github.io/MBC/1-400_home_page.html";
    }

    // é›£åº¦é¸æ“‡äº‹ä»¶
    pairCountSelect.addEventListener('change', newGame);

    // åˆå§‹åŒ–
    function init() {
      loadBest();
      setupButtonEvents();
      newGame();
    }

    // å•Ÿå‹•éŠæˆ²
    init();
  </script>
</body>
</html>
