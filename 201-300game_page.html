 <!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>201-300åå¥é…å°æ¶ˆæ¶ˆæ¨‚éŠæˆ²</title>
 <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: "Microsoft JhengHei", Arial, sans-serif;
      background: linear-gradient(135deg, #f4f8fb 0%, #e0eaf8 100%);
      margin: 0;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      color: #333;
    }
 
    .container {
      width: 95%;
      max-width: 1200px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .header {
      text-align: center;
      margin-bottom: 15px;
      width: 100%;
    }
   
      /* åŠé€æ˜èƒŒæ™¯Logo */
    .logo-background {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0.2; /* åŠé€æ˜æ•ˆæœ */
      z-index: -1;
      pointer-events: none;
      max-width: 80%;
      max-height: 80%;
    }
    
    .logo-background img {
      width: 300px;
      height: 300px;
      object-fit: contain;
    }

   h1 { 
      margin: 10px 0 5px; 
      color: #1976d2;
      text-align: center;
      font-size: 1.8rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
    
    .topbar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
      font-size: 14px;
      width: 100%;
    }
    
    .stat {
      background: #fff;
      border-radius: 8px;
      padding: 8px 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      min-width: 90px;
      text-align: center;
      border-left: 4px solid #1976d2;
      font-size: 14px;
    }
    
    #status { 
      margin: 10px 0; 
      font-size: 16px; 
      font-weight: bold;
      color: #2c3e50;
      text-align: center;
      padding: 10px 16px;
      background: rgba(255,255,255,0.8);
      border-radius: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .game-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 10px 0;
    }
    
    #game-board {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 12px;
      max-width: 1000px;
      width: 100%;
      margin: 15px auto;
      position: relative;
    }
    
    .card {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: #fff;
      border-radius: 10px;
      height: 110px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      user-select: none;
      padding: 10px;
      text-align: center;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
    }
    
    .card:active { 
      transform: scale(0.98); 
    }
    
    .card.flipped {
      background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
      color: #222;
      cursor: default;
    }
    
    .card.matched {
      animation: matchedAnimation 0.6s forwards;
      cursor: default;
    }
    
    @keyframes matchedAnimation {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.1);
        opacity: 0.7;
      }
      100% {
        transform: scale(0);
        opacity: 0;
        visibility: hidden;
      }
    }
    
    .card.mismatched {
      background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
      color: #c62828;
    }
    
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      backface-visibility: hidden;
      transition: transform 0.6s;
      border-radius: 8px;
      padding: 10px;
      box-sizing: border-box;
    }
    
    .card-front {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: white;
      font-weight: bold;
      font-size: 16px;
    }
    
    .card-back {
      background: white;
      color: #222;
      transform: rotateY(180deg);
      justify-content: center;
      font-size: 14px;
      overflow: auto;
      text-overflow: ellipsis;
    }
    
    .card.flipped .card-front {
      transform: rotateY(180deg);
    }
    
    .card.flipped .card-back {
      transform: rotateY(0deg);
    }
    
    button {
      margin: 8px 5px;
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      background: #1976d2;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
    }
    
    button:hover {
      background: #1565c0;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    
    button:active { 
      transform: translateY(1px); 
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }
    
    .controls {
      display: flex; 
      gap: 10px; 
      flex-wrap: wrap; 
      justify-content: center;
      margin: 10px 0;
      width: 100%;
    }
    
    .settings {
      display: flex;
      gap: 10px;
      margin: 15px 0;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .setting-item {
      display: flex;
      align-items: center;
      gap: 6px;
      background: white;
      padding: 8px 12px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      font-size: 14px;
    }
    
    select {
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #ddd;
    }
    
    .note { 
      font-size: 13px; 
      color: #555; 
      margin: 5px 0 15px; 
      text-align: center;
      max-width: 600px;
      padding: 0 15px;
      line-height: 1.5;
    }
    
    .completed-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.98);
      padding: 25px 30px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      text-align: center;
      z-index: 100;
      animation: popIn 0.5s ease;
      width: 85%;
      max-width: 350px;
      border: 2px solid #1976d2;
    }
    
    .completed-message h2 {
      color: #1976d2;
      margin-bottom: 15px;
    }
    
    .completed-message p {
      margin: 10px 0;
      font-size: 16px;
    }
    
    /* ç­”æ¡ˆæ¬„æ¨£å¼ */
    #answer-board {
      width: 100%;
      max-width: 1000px;
      margin: 20px 0;
      padding: 15px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    #answer-board h2 {
      text-align: center;
      color: #1976d2;
      margin: 0 0 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #1976d2;
      font-size: 1.4rem;
    }
    
    .answer-pair {
      display: flex;
      margin-bottom: 15px;
      border-bottom: 1px dashed #ccc;
      padding-bottom: 15px;
      align-items: center;
      min-height: 75px;
    }
    
    .answer-pair:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    
    .pair-number {
      width: 28px;
      height: 28px;
      background: #1976d2;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
      flex-shrink: 0;
      opacity: 0;
      transition: opacity 0.5s ease;
      font-size: 13px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .pair-number.visible {
      opacity: 1;
    }
    
    .answer-text, .answer-source {
      flex: 1;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 8px;
      margin: 0 5px;
      min-height: 55px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
      position: relative;
      font-size: 14px;
    }
    
    .answer-text {
      border-left: 4px solid #4caf50;
    }
    
    .answer-source {
      border-left: 4px solid #2196f3;
    }
    
    .answer-type {
      position: absolute;
      top: 4px;
      left: 8px;
      font-size: 11px;
      color: #888;
    }
    
    .answer-placeholder {
      color: #999;
      font-style: italic;
      font-size: 13px;
    }
    
    @keyframes popIn {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 99;
    }
    
    /* æ‰‹æ©Ÿç‰ˆå°ˆç”¨æ¨£å¼ */
    .mobile-controls {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      padding: 12px;
      box-shadow: 0 -3px 12px rgba(0,0,0,0.1);
      z-index: 10;
      justify-content: space-around;
    }
    
    .mobile-btn {
      padding: 12px 16px;
      font-size: 14px;
      border: none;
      background: #1976d2;
      color: #fff;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    
    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 1000px) {
      #game-board { grid-template-columns: repeat(4, 1fr); }
    }
    
    @media (max-width: 800px) {
      #game-board { grid-template-columns: repeat(3, 1fr); }
      .card { height: 100px; font-size: 13px; }
      .answer-pair { flex-direction: column; }
      .answer-text, .answer-source { margin: 5px 0; width: 100%; }
      .pair-number { margin: 0 0 8px 0; }
    }
    
    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; margin: 8px 0 4px; }
      .topbar { gap: 8px; }
      .stat { 
        min-width: 80px; 
        font-size: 13px; 
        padding: 7px 10px;
      }
      #status { font-size: 14px; padding: 8px 14px; }
      #game-board { 
        grid-template-columns: repeat(2, 1fr); 
        gap: 10px;
      }
      .card { 
        height: 90px; 
        font-size: 13px; 
        border-radius: 8px;
      }
      .card-back { font-size: 12px; }
      .controls { gap: 8px; }
      button { 
        padding: 9px 14px; 
        font-size: 13px;
      }
      .setting-item { font-size: 13px; }
      .note { font-size: 12px; }
      
      /* é¡¯ç¤ºæ‰‹æ©Ÿåº•éƒ¨æ§åˆ¶æ¬„ */
      .mobile-controls {
        display: flex;
      }
      
      /* éš±è—æ¡Œé¢ç‰ˆæ§åˆ¶æŒ‰éˆ• */
      .controls {
        display: none;
      }
      
      /* èª¿æ•´ç­”æ¡ˆæ¬„æ¨£å¼ */
      #answer-board {
        margin-bottom: 80px;
        padding: 12px;
      }
      #answer-board h2 { font-size: 1.3rem; }
      .answer-text, .answer-source { 
        font-size: 13px; 
        padding: 8px;
      }
    }
    
    @media (max-width: 400px) {
      #game-board { grid-template-columns: repeat(2, 1fr); }
      .card { 
        height: 85px; 
        font-size: 12px; 
        padding: 8px;
      }
      .card-back { font-size: 11px; }
      .card-front { font-size: 14px; }
      .stat { min-width: 70px; font-size: 12px; }
      h1 { font-size: 1.4rem; }
      .mobile-btn { padding: 11px 14px; font-size: 13px; }
    }
    
    @media (max-width: 350px) {
      .card { height: 80px; }
      #game-board { gap: 8px; }
    }

    /* é˜²æ­¢æ‰‹æ©Ÿä¸Šæ–‡å­—é¸ä¸­ */
    .no-select {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
    
    /* éŠæˆ²é›£åº¦æ¨™ç±¤ */
    .difficulty-tag {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 5px;
      background: #e3f2fd;
      color: #1976d2;
    }
  </style>
</head>
<body class="no-select">
 
  <div class="container">
    <div class="header">
      <h1>ä¸­æ–‡çµ„</h1>
      <h1>201-300åå¥é…å°æ¶ˆæ¶ˆæ¨‚</h1>
    </div>
    
    <div class="topbar">
      <div class="stat">è¨ˆæ™‚ï¼š<span id="timer">00:00.0</span></div>
      <div class="stat">é…å°ï¼š<span id="pairs">0</span>/<span id="total-pairs">0</span></div>
      <div class="stat">æœ€ä½³ï¼š<span id="best">â€”</span></div>
    </div>

    <div id="status">è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°</div>

    <div class="settings">
      <div class="setting-item">
        <label for="pair-count">éŠæˆ²é›£åº¦:</label>
        <select id="pair-count">
          <option value="5">ç°¡å–® <span class="difficulty-tag">5çµ„</span></option>
          <option value="8">ä¸­ç­‰ <span class="difficulty-tag">8çµ„</span></option>
          <option value="10">å›°é›£ <span class="difficulty-tag">10çµ„</span></option>
        </select>
      </div>
    </div>

    <div class="controls">
      <button id="btn-home" class="btn">ä¸»é </button>
      <button id="btn-new" class="btn">é‡æ–°é–‹å§‹</button>
      <button id="btn-pause" class="btn">æš«åœ</button>
      <button id="btn-resume" class="btn" style="display:none;">ç¹¼çºŒ</button>
    </div>
    
    <div class="note">æç¤ºï¼šç¿»ç‰Œé–‹å§‹å³è¨ˆæ™‚ï¼Œå…¨éƒ¨é…å°å®Œæˆè‡ªå‹•åœæ­¢ã€‚é…å°æˆåŠŸæ™‚å¡ç‰‡æœƒç§»å‹•åˆ°ä¸‹æ–¹ç­”æ¡ˆæ¬„ã€‚</div>

    <div class="game-container">
      <div id="game-board"></div>
    </div>
    
    <!-- ç­”æ¡ˆæ¬„ -->
    <div id="answer-board">
      <h2>ç­”æ¡ˆæ¬„</h2>
      <div id="answer-container"></div>
    </div>
  </div>
  
  <!-- æ‰‹æ©Ÿç‰ˆåº•éƒ¨æ§åˆ¶æ¬„ -->
  <div class="mobile-controls">
    <button id="mobile-home" class="mobile-btn">ä¸»é </button>
    <button id="mobile-new" class="mobile-btn">é‡æ–°é–‹å§‹</button>
    <button id="mobile-pause" class="mobile-btn">æš«åœ</button>
    <button id="mobile-resume" class="mobile-btn" style="display:none;">ç¹¼çºŒ</button>
  </div>
  
  <script>
    // å®Œæ•´çš„åå¥åˆ—è¡¨ï¼ˆå¸¶æœ‰åºè™Ÿï¼‰
    const quotes = [
{"id": 201, "text": "é»ƒæ²™ç™¾æˆ°ç©¿é‡‘ç”²ï¼Œä¸ç ´æ¨“è˜­çµ‚ä¸é‚„ã€‚", "source": "ç‹æ˜Œé½¡ã€Šå¾è»è¡Œã€‹"},
{ "id": 202, "text": "æ¬²çª®åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±¤æ¨“ã€‚", "source": "ç‹ä¹‹ç…¥ã€Šç™»é¸›é›€æ¨“ã€‹" },
{ "id": 203, "text": "è«æ„å‰è·¯ç„¡çŸ¥å·±ï¼Œå¤©ä¸‹èª°äººä¸è­˜å›ã€‚", "source": "é«˜é©ã€Šåˆ¥è‘£å¤§ã€‹" },
{ "id": 204, "text": "å¿½å¦‚ä¸€å¤œæ˜¥é¢¨ä¾†ï¼Œåƒæ¨¹è¬æ¨¹æ¢¨èŠ±é–‹ã€‚", "source": "å²‘åƒã€Šç™½é›ªæ­Œé€æ­¦åˆ¤å®˜æ­¸äº¬ã€‹" },
{ "id": 205, "text": "è¿‘é„‰æƒ…æ›´æ€¯ï¼Œä¸æ•¢å•ä¾†äººã€‚", "source": "å®‹ä¹‹å•ã€Šæ¸¡æ¼¢æ±Ÿã€‹" },
{ "id": 206, "text": "å°‘å°é›¢å®¶è€å¤§å›ï¼Œé„‰éŸ³ç„¡æ”¹é¬¢æ¯›è¡°ã€‚", "source": "è³€çŸ¥ç« ã€Šå›é„‰å¶æ›¸ã€‹" },
{ "id": 207, "text": "å…’ç«¥ç›¸è¦‹ä¸ç›¸è­˜ï¼Œç¬‘å•å®¢å¾ä½•è™•ä¾†ã€‚", "source": "è³€çŸ¥ç« ã€Šå›é„‰å¶æ›¸ã€‹" },
{ "id": 208, "text": "ä¸çŸ¥ç´°è‘‰èª°è£å‡ºï¼ŒäºŒæœˆæ˜¥é¢¨ä¼¼å‰ªåˆ€ã€‚", "source": "è³€çŸ¥ç« ã€Šå’æŸ³ã€‹" },
{ "id": 209, "text": "æ™´å·æ­·æ­·æ¼¢é™½æ¨¹ï¼ŒèŠ³è‰è‹è‹é¸šéµ¡æ´²ã€‚", "source": "å´”é¡¥ã€Šé»ƒé¶´æ¨“ã€‹" },
{ "id": 210, "text": "å ±åœ‹è¡Œèµ´é›£ï¼Œå¤ä¾†çš†å…±ç„¶ã€‚", "source": "å´”é¡¥ã€Šè´ˆç‹å¨å¤ã€‹" },
{ "id": 211, "text": "æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªå€«é€æˆ‘æƒ…ã€‚", "source": "æç™½ã€Šè´ˆæ±ªå€«ã€‹" },
{ "id": 212, "text": "å®‰èƒ½æ‘§çœ‰æŠ˜è…°äº‹æ¬Šè²´ï¼Œä½¿æˆ‘ä¸å¾—é–‹å¿ƒé¡ï¼", "source": "æç™½ã€Šå¤¢æ¸¸å¤©å§¥åŸç•™åˆ¥ã€‹" },
{ "id": 213, "text": "ä¸çŸ¥æ˜é¡è£¡ï¼Œä½•è™•å¾—ç§‹éœœã€‚", "source": "æç™½ã€Šç§‹æµ¦æ­Œã€‹" },
{ "id": 214, "text": "ä½†ä½¿ä¸»äººèƒ½é†‰å®¢ï¼Œä¸çŸ¥ä½•è™•æ˜¯ä»–é„‰ã€‚", "source": "æç™½ã€Šå®¢ä¸­ä½œã€‹" },
{ "id": 215, "text": "æµ®é›²æ¸¸å­æ„ï¼Œè½æ—¥æ•…äººæƒ…ã€‚", "source": "æç™½ã€Šé€å‹äººã€‹" },
{ "id": 216, "text": "å›ä¸è¦‹é»ƒæ²³ä¹‹æ°´å¤©ä¸Šä¾†ï¼Œå¥”æµåˆ°æµ·ä¸å¾©å›ã€‚", "source": "æç™½ã€Šå°‡é€²é…’ã€‹" },
{ "id": 217, "text": "å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨ï¼Œåƒé‡‘æ•£ç›¡é‚„å¾©ä¾†ã€‚", "source": "æç™½ã€Šå°‡é€²é…’ã€‹" },
{ "id": 218, "text": "ä¿±æ‡·é€¸èˆˆå£¯æ€é£›ï¼Œæ¬²ä¸Šé’å¤©æ”¬ï¼ˆè¦½ï¼‰æ˜æœˆã€‚", "source": "æç™½ã€Šå®£å·è¬æœ“æ¨“é¤åˆ¥æ ¡æ›¸å”é›²ã€‹" },
{ "id": 219, "text": "æŠ½åˆ€æ–·æ°´æ°´æ›´æµï¼Œèˆ‰æ¯æ¶ˆæ„æ„æ›´æ„ã€‚", "source": "æç™½ã€Šå®£å·è¬æœ“æ¨“é¤åˆ¥æ ¡æ›¸å”é›²ã€‹" },
{ "id": 220, "text": "ç‡•å±±é›ªèŠ±å¤§å¦‚å¸­ï¼Œç‰‡ç‰‡å¹è½è»’è½…å°ã€‚", "source": "æç™½ã€ŠåŒ—é¢¨è¡Œã€‹" },
{ "id": 221, "text": "å¤§éµ¬ä¸€æ—¥åŒé¢¨èµ·ï¼Œæ‰¶æ–ç›´ä¸Šä¹è¬é‡Œã€‚", "source": "æç™½ã€Šä¸Šæé‚•ã€‹" },
{ "id": 222, "text": "èˆ‰æ¯é‚€æ˜æœˆï¼Œå°å½±æˆä¸‰äººã€‚", "source": "æç™½ã€Šæœˆä¸‹ç¨é…Œã€‹" },
{ "id": 223, "text": "ä»°å¤©å¤§ç¬‘å‡ºé–€å»ï¼Œæˆ‘è¼©è±ˆæ˜¯è“¬è’¿äººã€‚", "source": "æç™½ã€Šå—é™µåˆ¥å…’ç«¥å…¥äº¬ã€‹" },
{ "id": 224, "text": "æ¸…æ°´å‡ºèŠ™è“‰ï¼Œå¤©ç„¶å»é›•é£¾ã€‚", "source": "æç™½ã€Šç¶“äº‚é›¢å¾Œå¤©æ©æµå¤œéƒæ†¶èˆŠéŠæ›¸æ‡·è´ˆæ±Ÿå¤éŸ‹å¤ªå®ˆè‰¯å®°ã€‹" },
{ "id": 225, "text": "å­¤å¸†é å½±ç¢§ç©ºç›¡ï¼ŒæƒŸè¦‹é•·æ±Ÿå¤©éš›æµã€‚", "source": "æç™½ã€Šé€å­Ÿæµ©ç„¶ä¹‹å»£é™µã€‹" },
{ "id": 226, "text": "é•·é¢¨ç ´æµªæœƒæœ‰æ™‚ï¼Œç›´æ›é›²å¸†æ¿Ÿæ»„æµ·ã€‚", "source": "æç™½ã€Šè¡Œè·¯é›£ã€‹" },
{ "id": 227, "text": "åŠé–£å´¢å¶¸è€Œå´”åµ¬ï¼Œä¸€å¤«ç•¶é—œï¼Œè¬å¤«è«é–‹ã€‚", "source": "æç™½ã€Šèœ€é“é›£ã€‹" },
{ "id": 228, "text": "å°„äººå…ˆå°„é¦¬ï¼Œæ“’è³Šå…ˆæ“’ç‹ã€‚", "source": "æœç”«ã€Šå‰å‡ºå¡ã€‹" },
{ "id": 229, "text": "çˆ¾æ›¹èº«èˆ‡åä¿±æ»…ï¼Œä¸å»¢æ±Ÿæ²³è¬å¤æµã€‚", "source": "æœç”«ã€Šæˆ²ç‚ºå…­çµ•å¥ã€‹" },
{ "id": 230, "text": "æœƒç•¶å‡Œçµ•é ‚ï¼Œä¸€è¦½çœ¾å±±å°ã€‚", "source": "æœç”«ã€Šæœ›å²³ã€‹" },
{ "id": 231, "text": "å¥½é›¨çŸ¥æ™‚ç¯€ï¼Œç•¶æ˜¥ä¹ƒç™¼ç”Ÿã€‚", "source": "æœç”«ã€Šæ˜¥å¤œå–œé›¨ã€‹" },
{ "id": 232, "text": "ç´°é›¨é­šå…’å‡ºï¼Œå¾®é¢¨ç‡•å­æ–œã€‚", "source": "æœç”«ã€Šæ°´æª»é£å¿ƒã€‹" },
{ "id": 233, "text": "æ˜ éšç¢§è‰è‡ªæ˜¥è‰²ï¼Œéš”è‘‰é»ƒé¸ç©ºå¥½éŸ³ã€‚", "source": "æœç”«ã€Šèœ€ç›¸ã€‹" },
{ "id": 234, "text": "å‡ºå¸«æœªæ·èº«å…ˆæ­»ï¼Œé•·ä½¿è‹±é›„æ·šæ»¿è¥Ÿã€‚", "source": "æœç”«ã€Šèœ€ç›¸ã€‹" },
{ "id": 235, "text": "å³æ¥šæ±å—å¼ï¼Œä¹¾å¤æ—¥å¤œæµ®ã€‚", "source": "æœç”«ã€Šç™»å²³é™½æ¨“ã€‹" },
{ "id": 236, "text": "ç­†è½é©šé¢¨é›¨ï¼Œè©©æˆæ³£é¬¼ç¥ã€‚", "source": "æœç”«ã€Šå¯„æåäºŒç™½äºŒåéŸ»ã€‹" },
{ "id": 237, "text": "æ•æ·è©©åƒé¦–ï¼Œé£„é›¶é…’ä¸€æ¯ã€‚", "source": "æœç”«ã€Šä¸è¦‹ã€‹" },
{ "id": 238, "text": "ç„¡é‚Šè½æœ¨è•­è•­ä¸‹ï¼Œä¸ç›¡é•·æ±Ÿæ»¾æ»¾ä¾†ã€‚", "source": "æœç”«ã€Šç™»é«˜ã€‹" },
{ "id": 239, "text": "è¬é‡Œæ‚²ç§‹å¸¸ä½œå®¢ï¼Œç™¾å¹´å¤šç—…ç¨ç™»å°ã€‚", "source": "æœç”«ã€Šç™»é«˜ã€‹" },
{ "id": 240, "text": "ç™½æ—¥æ”¾æ­Œé ˆç¸±é…’ï¼Œé’æ˜¥ä½œä¼´å¥½é‚„é„‰ã€‚", "source": "æœç”«ã€Šèå®˜è»æ”¶æ²³å—æ²³åŒ—ã€‹" },
{ "id": 241, "text": "å®‰å¾—å»£å»ˆåƒè¬é–“ï¼Œå¤§åº‡å¤©ä¸‹å¯’å£«ä¿±æ­¡é¡ï¼Œé¢¨é›¨ä¸å‹•å®‰å¦‚å±±ï¼", "source": "æœç”«ã€ŠèŒ…å±‹ç‚ºç§‹é¢¨æ‰€ç ´æ­Œã€‹" },
{ "id": 242, "text": "éœ²å¾ä»Šå¤œç™½ï¼Œæœˆæ˜¯æ•…é„‰æ˜ã€‚", "source": "æœç”«ã€Šæœˆå¤œæ†¶èˆå¼Ÿã€‹" },
{ "id": 243, "text": "æœ±é–€é…’è‚‰è‡­ï¼Œè·¯æœ‰å‡æ­»éª¨ã€‚", "source": "æœç”«ã€Šè‡ªäº¬èµ´å¥‰å…ˆç¸£å’æ‡·äº”ç™¾å­—ã€‹" },
{ "id": 244, "text": "çƒ½ç«é€£ä¸‰æœˆï¼Œå®¶æ›¸æŠµè¬é‡‘ã€‚", "source": "æœç”«ã€Šæ˜¥æœ›ã€‹" },
{ "id": 245, "text": "è®€æ›¸ç ´è¬å·ï¼Œä¸‹ç­†å¦‚æœ‰ç¥ã€‚", "source": "æœç”«ã€Šå¥‰è´ˆéŸ‹å·¦ä¸ä¸ˆäºŒåäºŒéŸ»ã€‹" },
{ "id": 246, "text": "çª—å«è¥¿å¶ºåƒç§‹é›ªï¼Œé–€æ³Šæ±å³è¬é‡Œèˆ¹ã€‚", "source": "æœç”«ã€Šçµ•å¥ã€‹" },
{ "id": 247, "text": "ç‚ºäººæ€§åƒ»è€½ä½³å¥ï¼Œèªä¸é©šäººæ­»ä¸ä¼‘ã€‚", "source": "æœç”«ã€Šæ±Ÿä¸Šå€¼æ°´å¦‚æµ·å‹¢èŠçŸ­è¿°ã€‹" },
{ "id": 248, "text": "æ­£æ˜¯æ±Ÿå—å¥½é¢¨æ™¯ï¼Œè½èŠ±æ™‚ç¯€åˆé€¢å›ã€‚", "source": "æœç”«ã€Šæ±Ÿå—é€¢æé¾œå¹´ã€‹" },
{ "id": 249, "text": "æ˜¥æ½®å¸¶é›¨æ™šä¾†æ€¥ï¼Œé‡æ¸¡ç„¡äººèˆŸè‡ªæ©«ã€‚", "source": "éŸ‹æ‡‰ç‰©ã€Šæ»å·è¥¿æ¾—ã€‹" },
{ "id": 250, "text": "èª°è¨€å¯¸è‰å¿ƒï¼Œå ±å¾—ä¸‰æ˜¥æš‰ã€‚", "source": "å­ŸéƒŠã€ŠéŠå­åŸã€‹" },
{ "id": 251, "text": "æ˜¥é¢¨å¾—æ„é¦¬è¹„ç–¾ï¼Œä¸€æ—¥çœ‹ç›¡é•·å®‰èŠ±ã€‚", "source": "å­ŸéƒŠã€Šç™»ç§‘å¾Œã€‹" },
{ "id": 252, "text": "äººé¢ä¸çŸ¥ä½•è™•å»ï¼Œæ¡ƒèŠ±ä¾èˆŠç¬‘æ˜¥é¢¨ã€‚", "source": "å´”è­·ã€Šé¡Œéƒ½åŸå—åº„ã€‹" },
{ "id": 253, "text": "ä¸å¡ä¸æµï¼Œä¸æ­¢ä¸è¡Œã€‚", "source": "éŸ“æ„ˆã€ŠåŸé“ã€‹" },
{ "id": 254, "text": "å¤ä¹‹å­¸è€…å¿…æœ‰å¸«ã€‚å¸«è€…ï¼Œæ‰€ä»¥å‚³é“å—æ¥­è§£æƒ‘ä¹Ÿã€‚", "source": "éŸ“æ„ˆã€Šå¸«èªªã€‹" },
{ "id": 255, "text": "é“ä¹‹æ‰€å­˜ï¼Œå¸«ä¹‹æ‰€å­˜ä¹Ÿã€‚", "source": "éŸ“æ„ˆã€Šå¸«èªªã€‹" },
{ "id": 256, "text": "å­”å­æ›°ï¼šã€Œä¸‰äººè¡Œï¼Œå‰‡å¿…æœ‰æˆ‘å¸«ã€‚ã€æ˜¯æ•…å¼Ÿå­ä¸å¿…ä¸å¦‚å¸«ï¼Œå¸«ä¸å¿…è³¢æ–¼å¼Ÿå­ã€‚", "source": "éŸ“æ„ˆã€Šå¸«èªªã€‹" },
{ "id": 257, "text": "å¤©è¡—å°é›¨æ½¤å¦‚é…¥ï¼Œè‰è‰²é™çœ‹è¿‘å»ç„¡ã€‚", "source": "éŸ“æ„ˆã€Šæ—©æ˜¥å‘ˆæ°´éƒ¨å¼µåå…«å“¡å¤–ã€‹" },
{ "id": 258, "text": "å¤§å‡¡ç‰©ä¸å¾—å…¶å¹³å‰‡å—šã€‚", "source": "éŸ“æ„ˆã€Šé€å­Ÿæ±é‡åºã€‹" },
{ "id": 259, "text": "èšèœ‰æ’¼å¤§æ¨¹ï¼Œå¯ç¬‘ä¸è‡ªé‡ã€‚", "source": "éŸ“æ„ˆã€Šèª¿å¼µç±ã€‹" },
{ "id": 260, "text": "æ¥­ç²¾æ–¼å‹¤è’æ–¼å¬‰ï¼Œè¡Œæˆæ–¼æ€æ¯€æ–¼éš¨ã€‚", "source": "éŸ“æ„ˆã€Šé€²å­¸è§£ã€‹" },
{ "id": 261, "text": "æ˜†å±±ç‰ç¢é³³å‡°å«ï¼ŒèŠ™è“‰æ³£éœ²é¦™è˜­ç¬‘ã€‚", "source": "éŸ“æ„ˆã€Šææ†‘ç®œç¯Œå¼•ã€‹" },
{ "id": 262, "text": "å¥³åª§ç…‰çŸ³è£œå¤©è™•ï¼ŒçŸ³ç ´å¤©é©šé€—ç§‹é›¨ã€‚", "source": "éŸ“æ„ˆã€Šææ†‘ç®œç¯Œå¼•ã€‹" },
{ "id": 263, "text": "é»‘é›²å£“åŸåŸæ¬²æ‘§ï¼Œç”²å…‰å‘æ—¥é‡‘é±—é–‹ã€‚", "source": "æè³€ã€Šé›é–€å¤ªå®ˆè¡Œã€‹" },
{ "id": 264, "text": "å¤§æ¼ æ²™å¦‚é›ªï¼Œç‡•å±±æœˆä¼¼éˆã€‚", "source": "æè³€ã€Šé¦¬è©©ã€‹" },
{ "id": 265, "text": "æˆ‘æœ‰è¿·é­‚æ‹›ä¸å¾—ï¼Œé›„é›ä¸€å«å¤©ä¸‹ç™½ã€‚", "source": "æè³€ã€Šè‡´é…’è¡Œã€‹" },
{ "id": 266, "text": "è¡°è˜­é€å®¢å’¸é™½é“ï¼Œå¤©è‹¥æœ‰æƒ…å¤©äº¦è€ã€‚", "source": "æè³€ã€Šé‡‘éŠ…ä»™äººè¾­æ¼¢æ­Œã€‹" },
{ "id": 267, "text": "åƒå±±é³¥é£›çµ•ï¼Œè¬å¾‘äººè¸ªæ»…ã€‚", "source": "æŸ³å®—å…ƒã€Šæ±Ÿé›ªã€‹" },
{ "id": 268, "text": "å±±åœæ•…åœ‹å‘¨é­åœ¨ï¼Œæ½®æ‰“ç©ºåŸå¯‚å¯å›ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€ŠçŸ³é ­åŸã€‹" },
{ "id": 269, "text": "èˆŠæ™‚ç‹è¬å ‚å‰ç‡•ï¼Œé£›å…¥å°‹å¸¸ç™¾å§“å®¶ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šçƒè¡£å··ã€‹" },
{ "id": 270, "text": "è«é“æ¡‘æ¦†æ™šï¼Œç‚ºéœå°šæ»¿å¤©ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šé…¬æ¨‚å¤©å’è€è¦‹ç¤ºã€‹" },
{ "id": 271, "text": "æ™´ç©ºä¸€é¶´æ’é›²ä¸Šï¼Œä¾¿å¼•è©©æƒ…åˆ°ç¢§éœ„ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šç§‹è©ã€‹" },
{ "id": 272, "text": "æ²‰èˆŸå´ç•”åƒå¸†éï¼Œç—…æ¨¹å‰é ­è¬æœ¨æ˜¥ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šé…¬æ¨‚å¤©æšå·åˆé€¢å¸­ä¸Šè¦‹è´ˆã€‹" },
{ "id": 273, "text": "æ±é‚Šæ—¥å‡ºè¥¿é‚Šé›¨ï¼Œé“æ˜¯ç„¡æ™´å»æœ‰æ™´ã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šç«¹æè©ã€‹" },
{ "id": 274, "text": "å±±ä¸åœ¨é«˜ï¼Œæœ‰ä»™å‰‡åï¼›æ°´ä¸åœ¨æ·±ï¼Œæœ‰é¾å‰‡éˆã€‚", "source": "åŠ‰ç¦¹éŒ«ã€Šé™‹å®¤éŠ˜ã€‹" },
{ "id": 275, "text": "äº‚èŠ±æ¼¸æ¬²è¿·äººçœ¼ï¼Œæ·ºè‰æ‰èƒ½æ²’é¦¬è¹„ã€‚", "source": "ç™½å±…æ˜“ã€ŠéŒ¢å¡˜æ¹–æ˜¥è¡Œã€‹" },
{ "id": 276, "text": "ä¸€é“æ®˜é™½é‹ªæ°´ä¸­ï¼ŒåŠæ±Ÿç‘Ÿç‘ŸåŠæ±Ÿç´…ã€‚", "source": "ç™½å±…æ˜“ã€Šæš®æ±ŸåŸã€‹" },
{ "id": 277, "text": "è©¦ç‰è¦ç‡’ä¸‰æ—¥æ»¿ï¼Œè¾¨æé ˆå¾…ä¸ƒå¹´æœŸã€‚", "source": "ç™½å±…æ˜“ã€Šæ”¾è¨€ã€‹" },
{ "id": 278, "text": "é‡ç«ç‡’ä¸ç›¡ï¼Œæ˜¥é¢¨å¹åˆç”Ÿã€‚", "source": "ç™½å±…æ˜“ã€Šè³¦å¾—å¤åŸè‰é€åˆ¥ã€‹" },
{ "id": 279, "text": "æ–‡ç« åˆç‚ºæ™‚è€Œè‘—ï¼Œæ­Œè©©åˆç‚ºäº‹è€Œä½œã€‚", "source": "ç™½å±…æ˜“ã€Šèˆ‡å…ƒä¹æ›¸ã€‹" },
{ "id": 280, "text": "åˆ¥æœ‰å¹½æ„æš—æ¨ç”Ÿï¼Œæ­¤æ™‚ç„¡è²å‹æœ‰è²ã€‚", "source": "ç™½å±…æ˜“ã€Šçµç¶è¡Œã€‹" },
{ "id": 281, "text": "åŒæ˜¯å¤©æ¶¯æ·ªè½äººï¼Œç›¸é€¢ä½•å¿…æ›¾ç›¸è­˜ã€‚", "source": "ç™½å±…æ˜“ã€Šçµç¶è¡Œã€‹" },
{ "id": 282, "text": "åœ¨å¤©é¡˜ä½œæ¯”ç¿¼é³¥ï¼Œåœ¨åœ°é¡˜ç‚ºé€£ç†æã€‚", "source": "ç™½å±…æ˜“ã€Šé•·æ¨æ­Œã€‹" },
{ "id": 283, "text": "æ±Ÿå—å¥½ï¼Œé¢¨æ™¯èˆŠæ›¾è«³ã€‚æ—¥å‡ºæ±ŸèŠ±ç´…å‹ç«ï¼Œæ˜¥ä¾†æ±Ÿæ°´ç¶ å¦‚è—ã€‚èƒ½ä¸æ†¶æ±Ÿå—ï¼Ÿ", "source": "ç™½å±…æ˜“ã€Šæ†¶æ±Ÿå—ã€‹" },
{ "id": 284, "text": "é†‰è‡¥æ²™å ´å›è«ç¬‘ï¼Œå¤ä¾†å¾æˆ°å¹¾äººå›ï¼Ÿ", "source": "ç‹ç¿°ã€Šæ¶¼å·è©ã€‹" },
{ "id": 285, "text": "åƒé‡Œé¶¯å•¼ç¶ æ˜ ç´…ï¼Œæ°´æ‘å±±éƒ­é…’æ——é¢¨ã€‚", "source": "æœç‰§ã€Šæ±Ÿå—æ˜¥çµ•å¥ã€‹" },
{ "id": 286, "text": "æ¸…æ˜æ™‚ç¯€é›¨ç´›ç´›ï¼Œè·¯ä¸Šè¡Œäººæ¬²æ–·é­‚ã€‚", "source": "æœç‰§ã€Šæ¸…æ˜ã€‹" },
{ "id": 287, "text": "å¾®é›¨æ± å¡˜è¦‹ï¼Œå¥½é¢¨è¥Ÿè¢–çŸ¥ã€‚", "source": "æœç‰§ã€Šç§‹æ€ã€‹" },
{ "id": 288, "text": "é–€å¤–è‹¥ç„¡å—åŒ—è·¯ï¼Œäººé–“æ‡‰å…åˆ¥é›¢æ„ã€‚", "source": "æœç‰§ã€Šè´ˆåˆ¥ã€‹" },
{ "id": 289, "text": "åœè»Šåæ„›æ¥“æ—æ™šï¼Œéœœè‘‰ç´…æ–¼äºŒæœˆèŠ±ã€‚", "source": "æœç‰§ã€Šå±±è¡Œã€‹" },
{ "id": 290, "text": "å•†å¥³ä¸çŸ¥äº¡åœ‹æ¨ï¼Œéš”æ±ŸçŒ¶å”±ã€Šå¾Œåº­èŠ±ã€‹ã€‚", "source": "æœç‰§ã€Šæ³Šç§¦æ·®ã€‹" },
{ "id": 291, "text": "äºŒåå››æ©‹æ˜æœˆå¤œï¼Œç‰äººä½•è™•æ•™å¹ç°«ã€‚", "source": "æœç‰§ã€Šå¯„æšå·éŸ“ç¶½åˆ¤å®˜ã€‹" },
{ "id": 292, "text": "æ­·è¦½å‰è³¢åœ‹èˆ‡å®¶ï¼Œæˆç”±å‹¤å„‰æ•—ï¼ˆç ´ï¼‰ç”±å¥¢ã€‚", "source": "æå•†éš ã€Šè© å²ã€‹" },
{ "id": 293, "text": "æ˜¥è ¶åˆ°æ­»çµ²æ–¹ç›¡ï¼Œè Ÿç‚¬æˆç°æ·šå§‹ä¹¾ã€‚", "source": "æå•†éš ã€Šç„¡é¡Œã€‹" },
{ "id": 294, "text": "èº«ç„¡å½©é³³é›™é£›ç¿¼ï¼Œå¿ƒæœ‰éˆçŠ€ä¸€é»é€šã€‚", "source": "æå•†éš ã€Šç„¡é¡Œã€‹" },
{ "id": 295, "text": "èŠç”Ÿæ›‰å¤¢è¿·è´è¶ï¼Œæœ›å¸æ˜¥å¿ƒæ‰˜æœéµ‘ã€‚", "source": "æå•†éš ã€ŠéŒ¦ç‘Ÿã€‹" },
{ "id": 296, "text": "æ»„æµ·æœˆæ˜ç æœ‰æ·šï¼Œè—ç”°æ—¥æš–ç‰ç”Ÿç…™ã€‚", "source": "æå•†éš ã€ŠéŒ¦ç‘Ÿã€‹" },
{ "id": 297, "text": "æ¡èŠ±è¬é‡Œä¸¹å±±è·¯ï¼Œé››é³³æ¸…æ–¼è€é³³è²ã€‚", "source": "æå•†éš ã€ŠéŸ“å†¬éƒå³å¸­çˆ²è©©ç›¸é€ï¼Œä¸€åº§ç›¡é©šã€‚ä»–æ—¥ä½™æ–¹è¿½åŸã€Œé€£å®µä¾åè£´å›ä¹…ã€ä¹‹å¥ï¼Œæœ‰è€æˆä¹‹é¢¨ï¼Œå› æˆäºŒçµ•å¯„é…¬ï¼Œå…¼å‘ˆç•ä¹‹å“¡å¤–ã€‹" },
{ "id": 298, "text": "å¤•é™½ç„¡é™å¥½ï¼Œåªæ˜¯è¿‘é»ƒæ˜ã€‚", "source": "æå•†éš ã€Šæ¨‚éŠåŸã€‹" },
{ "id": 299, "text": "å¤©æ„æ†å¹½è‰ï¼Œäººé–“é‡æ™šæƒ…ã€‚", "source": "æå•†éš ã€Šæ™šæƒ…ã€‹" },
{ "id": 300, "text": "æ›¾ç¶“æ»„æµ·é›£ç‚ºæ°´ï¼Œé™¤å»å·«å±±ä¸æ˜¯é›²ã€‚", "source": "å…ƒç¨¹ã€Šé›¢æ€ã€‹" }
     ];

    // éŠæˆ²ç‹€æ…‹
    let cards = [];
    let firstCard = null, secondCard = null;
    let lockBoard = false;
    let matchedCount = 0;
    let totalPairs = 5; // é è¨­5çµ„
    let selectedQuotes = []; // ç•¶å‰é¸ä¸­çš„åå¥

    // è¨ˆæ™‚å™¨ç‹€æ…‹
    let timerInterval = null;
    let startTime = 0;
    let elapsed = 0;
    let running = false;
    let gameStarted = false;
    let isPaused = false;

    const boardEl = document.getElementById('game-board');
    const statusEl = document.getElementById('status');
    const timerEl = document.getElementById('timer');
    const bestEl = document.getElementById('best');
    const pairsEl = document.getElementById('pairs');
    const totalPairsEl = document.getElementById('total-pairs');
    const btnNew = document.getElementById('btn-new');
    const btnPause = document.getElementById('btn-pause');
    const btnResume = document.getElementById('btn-resume');
    const btnHome = document.getElementById('btn-home');
    const pairCountSelect = document.getElementById('pair-count');
    const answerContainerEl = document.getElementById('answer-container');
    
    // æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•
    const mobileNew = document.getElementById('mobile-new');
    const mobilePause = document.getElementById('mobile-pause');
    const mobileResume = document.getElementById('mobile-resume');
    const mobileHome = document.getElementById('mobile-home');

    // å·¥å…·ï¼šæ´—ç‰Œ
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // å–éš¨æ©Ÿåå¥çµ„
    function pickRandomQuotes(num) {
      // ç¢ºä¿ä¸è¶…éå¯ç”¨åå¥æ•¸é‡
      const availableQuotes = [...quotes];
      if (num > availableQuotes.length) {
        num = availableQuotes.length;
      }
      
      const indices = shuffle([...Array(availableQuotes.length).keys()]);
      return indices.slice(0, num).map(i => availableQuotes[i]);
    }

    // åˆå§‹åŒ–ç­”æ¡ˆæ¬„
    function initAnswerBoard() {
      answerContainerEl.innerHTML = '';
      selectedQuotes.forEach((quote) => {
        const pairDiv = document.createElement('div');
        pairDiv.className = 'answer-pair';
        pairDiv.id = `answer-pair-${quote.id}`;
        
        // æ·»åŠ åºè™Ÿï¼ˆåˆå§‹éš±è—ï¼‰
        const numberDiv = document.createElement('div');
        numberDiv.className = 'pair-number';
        numberDiv.textContent = quote.id;
        numberDiv.style.display = 'none'; // åˆå§‹éš±è—
        
        const textDiv = document.createElement('div');
        textDiv.className = 'answer-text';
        textDiv.innerHTML = '<span class="answer-placeholder">ç­‰å¾…é…å°...</span>';
        const textType = document.createElement('div');
        textType.className = 'answer-type';
        textType.textContent = 'åå¥';
        textDiv.appendChild(textType);
        
        const sourceDiv = document.createElement('div');
        sourceDiv.className = 'answer-source';
        sourceDiv.innerHTML = '<span class="answer-placeholder">ç­‰å¾…é…å°...</span>';
        const sourceType = document.createElement('div');
        sourceType.className = 'answer-type';
        sourceType.textContent = 'å‡ºè™•';
        sourceDiv.appendChild(sourceType);
        
        pairDiv.appendChild(numberDiv);
        pairDiv.appendChild(textDiv);
        pairDiv.appendChild(sourceDiv);
        answerContainerEl.appendChild(pairDiv);
      });
    }

    // æ›´æ–°ç­”æ¡ˆæ¬„
    function updateAnswerBoard(quoteId, text, source) {
      const pairDiv = document.getElementById(`answer-pair-${quoteId}`);
      if (pairDiv) {
        // é¡¯ç¤ºåºè™Ÿ
        const numberDiv = pairDiv.querySelector('.pair-number');
        numberDiv.style.display = 'flex';
        setTimeout(() => {
          numberDiv.classList.add('visible');
        }, 10);
        
        const textDiv = pairDiv.querySelector('.answer-text');
        const sourceDiv = pairDiv.querySelector('.answer-source');
        
        textDiv.innerHTML = text;
        const textType = document.createElement('div');
        textType.className = 'answer-type';
        textType.textContent = 'åå¥';
        textDiv.appendChild(textType);
        
        sourceDiv.innerHTML = source;
        const sourceType = document.createElement('div');
        sourceType.className = 'answer-type';
        sourceType.textContent = 'å‡ºè™•';
        sourceDiv.appendChild(sourceType);
        
        // æ·»åŠ å‹•ç•«æ•ˆæœ
        textDiv.style.animation = 'none';
        sourceDiv.style.animation = 'none';
        setTimeout(() => {
          textDiv.style.animation = 'popIn 0.5s ease';
          sourceDiv.style.animation = 'popIn 0.5s ease';
        }, 10);
      }
    }

    // è¨ˆæ™‚å™¨ï¼šæ ¼å¼åŒ–
    function formatTime(ms) {
      const totalMs = Math.max(0, ms | 0);
      const totalSec = Math.floor(totalMs / 1000);
      const min = Math.floor(totalSec / 60);
      const sec = totalSec % 60;
      const deci = Math.floor((totalMs % 1000) / 100);
      const mm = String(min).padStart(2, '0');
      const ss = String(sec).padStart(2, '0');
      return `${mm}:${ss}.${deci}`;
    }

    // è¨ˆæ™‚å™¨ï¼šæ›´æ–°ç•«é¢
    function updateTimerDisplay() {
      timerEl.textContent = formatTime(elapsed);
    }

    // è¨ˆæ™‚å™¨ï¼šé–‹å§‹
    function startTimer() {
      if (running) return;
      running = true;
      gameStarted = true;
      startTime = performance.now();
      timerInterval = setInterval(() => {
        const now = performance.now();
        elapsed += (now - startTime);
        startTime = now;
        updateTimerDisplay();
      }, 100);
    }

    // è¨ˆæ™‚å™¨ï¼šæš«åœ
    function pauseTimer() {
      if (!running) return;
      running = false;
      clearInterval(timerInterval);
      timerInterval = null;
    }

    // è¨ˆæ™‚å™¨ï¼šæ¢å¾©
    function resumeTimer() {
      if (running) return;
      running = true;
      startTime = performance.now();
      timerInterval = setInterval(() => {
        const now = performance.now();
        elapsed += (now - startTime);
        startTime = now;
        updateTimerDisplay();
      }, 100);
    }

    // è¨ˆæ™‚å™¨ï¼šé‡ç½®
    function resetTimer() {
      pauseTimer();
      elapsed = 0;
      running = false;
      gameStarted = false;
      updateTimerDisplay();
      btnPause.style.display = '';
      btnResume.style.display = 'none';
      mobilePause.style.display = '';
      mobileResume.style.display = 'none';
      isPaused = false;
    }

    // æœ€ä½³æˆç¸¾
    const BEST_KEY = 'match-quote-best-time-ms';
    function loadBest() {
      const v = localStorage.getItem(BEST_KEY);
      if (v && !isNaN(+v)) {
        bestEl.textContent = formatTime(+v);
      } else {
        bestEl.textContent = 'â€”';
      }
    }
    
    function saveBestIfBetter(ms) {
      const v = localStorage.getItem(BEST_KEY);
      if (!v || ms < +v) {
        localStorage.setItem(BEST_KEY, String(ms));
        bestEl.textContent = formatTime(ms);
      }
    }

    // é¡¯ç¤ºå®Œæˆè¨Šæ¯
    function showCompletionMessage() {
      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      
      const messageDiv = document.createElement('div');
      messageDiv.className = 'completed-message';
      messageDiv.innerHTML = `
        <h2>æ­å–œå®Œæˆï¼</h2>
        <p>æ‚¨ç”¨æ™‚: ${formatTime(elapsed)}</p>
        <p>${elapsed < 60000 ? 'ğŸ‰ å¤ªæ£’äº†ï¼' : 'ğŸ‘ åšå¾—å¾ˆå¥½ï¼'}</p>
        <button class="btn" onclick="this.parentElement.parentElement.remove()">ç¹¼çºŒéŠæˆ²</button>
      `;
      
      overlay.appendChild(messageDiv);
      document.body.appendChild(overlay);
    }

    // é–‹æ–°å±€
    function newGame() {
      statusEl.textContent = 'è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°';
      matchedCount = 0;
      firstCard = null; 
      secondCard = null; 
      lockBoard = false;

      // ç²å–é¸æ“‡çš„é›£åº¦
      totalPairs = parseInt(pairCountSelect.value);
      totalPairsEl.textContent = totalPairs;
      pairsEl.textContent = '0';

      // é¸å–åå¥
      selectedQuotes = pickRandomQuotes(totalPairs);

      // åˆå§‹åŒ–ç­”æ¡ˆæ¬„
      initAnswerBoard();

      // å»ºç«‹å¡ç‰Œ
      cards = [];
      selectedQuotes.forEach((item) => {
        cards.push({ id: item.id, type: 'text', value: item.text });
        cards.push({ id: item.id, type: 'source', value: item.source });
      });
      shuffle(cards);

      // æ¸²æŸ“
      boardEl.innerHTML = '';
      cards.forEach((card, i) => {
        const div = document.createElement('div');
        div.className = 'card';
        div.dataset.idx = i;
        div.dataset.id = card.id;
        div.dataset.type = card.type;
        
        // å¡ç‰‡æ­£é¢ - é¡¯ç¤º"ç¿»ç‰Œ"
        const cardFront = document.createElement('div');
        cardFront.className = 'card-front';
        cardFront.innerText = 'ç¿»ç‰Œ';
        
        // å¡ç‰‡èƒŒé¢ - é¡¯ç¤ºå…§å®¹
        const cardBack = document.createElement('div');
        cardBack.className = 'card-back';
        cardBack.innerText = card.value;
        
        div.appendChild(cardFront);
        div.appendChild(cardBack);
        
        boardEl.appendChild(div);
      });

      // æ ¹æ“šé›£åº¦èª¿æ•´ç¶²æ ¼
      if (totalPairs <= 5) {
        boardEl.style.gridTemplateColumns = 'repeat(5, 1fr)';
      } else if (totalPairs <= 8) {
        boardEl.style.gridTemplateColumns = 'repeat(4, 1fr)';
      } else {
        boardEl.style.gridTemplateColumns = 'repeat(5, 1fr)';
      }

      // é‡ç½®è¨ˆæ™‚å™¨
      resetTimer();
      
      // é‡æ–°ç¶å®šå¡ç‰‡é»æ“Šäº‹ä»¶
      bindCardEvents();
    }

    // ç¶å®šå¡ç‰‡äº‹ä»¶
    function bindCardEvents() {
      const cardElements = boardEl.querySelectorAll('.card');
      cardElements.forEach((div, i) => {
        const card = cards[i];
        // ç§»é™¤èˆŠçš„äº‹ä»¶ç›£è½å™¨
        div.onclick = null;
        div.ontouchstart = null;
        
        // æ·»åŠ æ–°çš„äº‹ä»¶ç›£è½å™¨
        div.addEventListener('click', () => flipCard(div, card, i));
        div.addEventListener('touchstart', (e) => {
          if (e.touches.length === 1) {
            e.preventDefault();
            flipCard(div, card, i);
          }
        }, { passive: false });
      });
    }

    // ç¿»ç‰Œ
    function flipCard(div, card, idx) {
      if (lockBoard || isPaused || div.classList.contains('matched')) return;
      if (div.classList.contains('flipped')) return;

      // ç¬¬ä¸€æ¬¡ç¿»ç‰Œæ‰é–‹å•Ÿè¨ˆæ™‚
      if (!gameStarted) {
        startTimer();
      }

      div.classList.add('flipped');

      if (!firstCard) {
        firstCard = { div, card, idx };
      } else {
        secondCard = { div, card, idx };
        lockBoard = true;

        // æª¢æŸ¥é…å°
        if (
          firstCard.card.id === secondCard.card.id &&
          firstCard.card.type !== secondCard.card.type
        ) {
          // é…å°æˆåŠŸ
          setTimeout(() => {
            firstCard.div.classList.add('matched');
            secondCard.div.classList.add('matched');
            
            // æ›´æ–°ç­”æ¡ˆæ¬„
            const quote = selectedQuotes.find(q => q.id === firstCard.card.id);
            if (quote) {
              updateAnswerBoard(quote.id, quote.text, quote.source);
            }
            
            matchedCount++;
            pairsEl.textContent = matchedCount;
            resetTurn();

            if (matchedCount === totalPairs) {
              pauseTimer();
              statusEl.textContent = `æ­å–œä½ å…¨éƒ¨é…å°æˆåŠŸï¼ç”¨æ™‚ï¼š${formatTime(elapsed)}`;
              saveBestIfBetter(elapsed);
              setTimeout(showCompletionMessage, 500);
            }
          }, 500);
        } else {
          // é…å°å¤±æ•—
          setTimeout(() => {
            firstCard.div.classList.remove('flipped');
            secondCard.div.classList.remove('flipped');
            resetTurn();
          }, 1000);
        }
      }
    }

    function resetTurn() {
      [firstCard, secondCard] = [null, null];
      lockBoard = false;
    }

    // æŒ‰éˆ•äº‹ä»¶
    function setupButtonEvents() {
      // æ¡Œé¢ç‰ˆæŒ‰éˆ•
      btnNew.addEventListener('click', newGame);
      btnPause.addEventListener('click', pauseGame);
      btnResume.addEventListener('click', resumeGame);
      btnHome.addEventListener('click', goHome);
      
      // æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•
      mobileNew.addEventListener('click', newGame);
      mobilePause.addEventListener('click', pauseGame);
      mobileResume.addEventListener('click', resumeGame);
      mobileHome.addEventListener('click', goHome);
    }
    
    function pauseGame() {
      pauseTimer();
      isPaused = true;
      btnPause.style.display = 'none';
      btnResume.style.display = '';
      mobilePause.style.display = 'none';
      mobileResume.style.display = '';
      statusEl.textContent = 'å·²æš«åœã€‚é»é¸ã€Œç¹¼çºŒã€ç¹¼çºŒéŠæˆ²ã€‚';
    }
    
    function resumeGame() {
      resumeTimer();
      isPaused = false;
      btnPause.style.display = '';
      btnResume.style.display = 'none';
      mobilePause.style.display = '';
      mobileResume.style.display = 'none';
      statusEl.textContent = 'è«‹ç¿»é–‹å…©å¼µå¡ç‰Œé€²è¡Œé…å°';
    }
    
    function goHome() {
      window.location.href = "https://mbcchinesegroup.github.io/MBC/400homepage.html";
    }

    // é›£åº¦é¸æ“‡äº‹ä»¶
    pairCountSelect.addEventListener('change', newGame);

    // åˆå§‹åŒ–
    function init() {
      loadBest();
      setupButtonEvents();
      newGame();
    }

    // å•Ÿå‹•éŠæˆ²
    init();
  </script>
</body>
</html>
